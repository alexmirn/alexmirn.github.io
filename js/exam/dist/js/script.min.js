(function(){"use strict";function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,o=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),o="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&e(s[n],i)===-1&&s[n].push(o?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,o=this.getListenersAsObject(t);for(s in o)o.hasOwnProperty(s)&&(n=e(o[s],i),n!==-1&&o[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)o.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,o,r=this.getListenersAsObject(t);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],i.once===!0&&this.removeListener(t,i.listener),o=i.listener.apply(this,e||[]),o===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}).call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var o={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof module&&module.exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"==h.call(t)}function o(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=o(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),d&&(this.jqDeferred=new d.Deferred);var s=this;setTimeout(function(){s.check()})}function a(t){this.img=t}function l(t,e){this.url=t,this.element=e,this.img=new Image}var d=t.jQuery,c=t.console,h=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0;t<this.elements.length;t++){var e=this.elements[t];this.addElementImages(e)}},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&u[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}}};var u={1:!0,9:!0,11:!0};r.prototype.addElementBackgroundImages=function(t){for(var e=g(t),i=/url\(['"]*([^'"\)]+)['"]*\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[1];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}};var g=t.getComputedStyle||function(t){return t.currentStyle};return r.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},r.prototype.addBackground=function(t,e){var i=new l(t,e);this.images.push(i)},r.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var n=this.images[i];n.once("progress",t),n.check()}},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emit("progress",this,t,e),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&c&&c.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=new e,a.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this),i.unbind(this.proxyImage,"error",this),i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype=new a,l.prototype.check=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this)},l.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.element,e)},r.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(d=e,d.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(d(this))})},r.makeJQueryPlugin(),r}),function(t){var e={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};t.fn.bxSlider=function(s){if(0==this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(s)}),this;var o={},r=this;e.el=this;var a=t(window).width(),l=t(window).height(),d=function(){o.settings=t.extend({},n,s),o.settings.slideWidth=parseInt(o.settings.slideWidth),o.children=r.children(o.settings.slideSelector),o.children.length<o.settings.minSlides&&(o.settings.minSlides=o.children.length),o.children.length<o.settings.maxSlides&&(o.settings.maxSlides=o.children.length),o.settings.randomStart&&(o.settings.startSlide=Math.floor(Math.random()*o.children.length)),o.active={index:o.settings.startSlide},o.carousel=o.settings.minSlides>1||o.settings.maxSlides>1,o.carousel&&(o.settings.preloadImages="all"),o.minThreshold=o.settings.minSlides*o.settings.slideWidth+(o.settings.minSlides-1)*o.settings.slideMargin,o.maxThreshold=o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin,o.working=!1,o.controls={},o.interval=null,o.animProp="vertical"==o.settings.mode?"top":"left",o.usingCSS=o.settings.useCSS&&"fade"!=o.settings.mode&&function(){var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return o.cssPrefix=e[i].replace("Perspective","").toLowerCase(),o.animProp="-"+o.cssPrefix+"-transform",!0;return!1}(),"vertical"==o.settings.mode&&(o.settings.maxSlides=o.settings.minSlides),r.data("origStyle",r.attr("style")),r.children(o.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),c()},c=function(){r.wrap('<div class="'+o.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),o.viewport=r.parent(),o.loader=t('<div class="bx-loading" />'),o.viewport.prepend(o.loader),r.css({width:"horizontal"==o.settings.mode?100*o.children.length+215+"%":"auto",position:"relative"}),o.usingCSS&&o.settings.easing?r.css("-"+o.cssPrefix+"-transition-timing-function",o.settings.easing):o.settings.easing||(o.settings.easing="swing");f();o.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),o.viewport.parent().css({maxWidth:p()}),o.settings.pager||o.viewport.parent().css({margin:"0 auto 0px"}),o.children.css({"float":"horizontal"==o.settings.mode?"left":"none",listStyle:"none",position:"relative"}),o.children.css("width",v()),"horizontal"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginRight",o.settings.slideMargin),"vertical"==o.settings.mode&&o.settings.slideMargin>0&&o.children.css("marginBottom",o.settings.slideMargin),"fade"==o.settings.mode&&(o.children.css({position:"absolute",zIndex:0,display:"none"}),o.children.eq(o.settings.startSlide).css({zIndex:o.settings.slideZIndex,display:"block"})),o.controls.el=t('<div class="bx-controls" />'),o.settings.captions&&k(),o.active.last=o.settings.startSlide==m()-1,o.settings.video&&r.fitVids();var e=o.children.eq(o.settings.startSlide);"all"==o.settings.preloadImages&&(e=o.children),o.settings.ticker?o.settings.pager=!1:(o.settings.pager&&w(),o.settings.controls&&E(),o.settings.auto&&o.settings.autoControls&&C(),(o.settings.controls||o.settings.autoControls||o.settings.pager)&&o.viewport.after(o.controls.el)),h(e,u)},h=function(e,i){var n=e.find("img, iframe").length;if(0==n)return void i();var s=0;e.find("img, iframe").each(function(){t(this).one("load",function(){++s==n&&i()}).each(function(){this.complete&&t(this).load()})})},u=function(){if(o.settings.infiniteLoop&&"fade"!=o.settings.mode&&!o.settings.ticker){var e="vertical"==o.settings.mode?o.settings.minSlides:o.settings.maxSlides,i=o.children.slice(0,e).clone().addClass("bx-clone"),n=o.children.slice(-e).clone().addClass("bx-clone");r.append(i).prepend(n)}o.loader.remove(),y(),"vertical"==o.settings.mode&&(o.settings.adaptiveHeight=!0),o.viewport.height(g()),r.redrawSlider(),o.settings.onSliderLoad(o.active.index),o.initialized=!0,o.settings.responsive&&t(window).bind("resize",H),o.settings.auto&&o.settings.autoStart&&(m()>1||o.settings.autoSlideForOnePage)&&q(),o.settings.ticker&&j(),o.settings.pager&&P(o.settings.startSlide),o.settings.controls&&_(),o.settings.touchEnabled&&!o.settings.ticker&&O()},g=function(){var e=0,n=t();if("vertical"==o.settings.mode||o.settings.adaptiveHeight)if(o.carousel){var s=1==o.settings.moveSlides?o.active.index:o.active.index*x();for(n=o.children.eq(s),i=1;i<=o.settings.maxSlides-1;i++)n=s+i>=o.children.length?n.add(o.children.eq(i-1)):n.add(o.children.eq(s+i))}else n=o.children.eq(o.active.index);else n=o.children;return"vertical"==o.settings.mode?(n.each(function(i){e+=t(this).outerHeight()}),o.settings.slideMargin>0&&(e+=o.settings.slideMargin*(o.settings.minSlides-1))):e=Math.max.apply(Math,n.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"==o.viewport.css("box-sizing")?e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))+parseFloat(o.viewport.css("border-top-width"))+parseFloat(o.viewport.css("border-bottom-width")):"padding-box"==o.viewport.css("box-sizing")&&(e+=parseFloat(o.viewport.css("padding-top"))+parseFloat(o.viewport.css("padding-bottom"))),e},p=function(){var t="100%";return o.settings.slideWidth>0&&(t="horizontal"==o.settings.mode?o.settings.maxSlides*o.settings.slideWidth+(o.settings.maxSlides-1)*o.settings.slideMargin:o.settings.slideWidth),t},v=function(){var t=o.settings.slideWidth,e=o.viewport.width();return 0==o.settings.slideWidth||o.settings.slideWidth>e&&!o.carousel||"vertical"==o.settings.mode?t=e:o.settings.maxSlides>1&&"horizontal"==o.settings.mode&&(e>o.maxThreshold||e<o.minThreshold&&(t=(e-o.settings.slideMargin*(o.settings.minSlides-1))/o.settings.minSlides)),t},f=function(){var t=1;if("horizontal"==o.settings.mode&&o.settings.slideWidth>0)if(o.viewport.width()<o.minThreshold)t=o.settings.minSlides;else if(o.viewport.width()>o.maxThreshold)t=o.settings.maxSlides;else{var e=o.children.first().width()+o.settings.slideMargin;t=Math.floor((o.viewport.width()+o.settings.slideMargin)/e)}else"vertical"==o.settings.mode&&(t=o.settings.minSlides);return t},m=function(){var t=0;if(o.settings.moveSlides>0)if(o.settings.infiniteLoop)t=Math.ceil(o.children.length/x());else for(var e=0,i=0;e<o.children.length;)++t,e=i+f(),i+=o.settings.moveSlides<=f()?o.settings.moveSlides:f();else t=Math.ceil(o.children.length/f());return t},x=function(){return o.settings.moveSlides>0&&o.settings.moveSlides<=f()?o.settings.moveSlides:f()},y=function(){if(o.children.length>o.settings.maxSlides&&o.active.last&&!o.settings.infiniteLoop){if("horizontal"==o.settings.mode){var t=o.children.last(),e=t.position();S(-(e.left-(o.viewport.width()-t.outerWidth())),"reset",0)}else if("vertical"==o.settings.mode){var i=o.children.length-o.settings.minSlides,e=o.children.eq(i).position();S(-e.top,"reset",0)}}else{var e=o.children.eq(o.active.index*x()).position();o.active.index==m()-1&&(o.active.last=!0),void 0!=e&&("horizontal"==o.settings.mode?S(-e.left,"reset",0):"vertical"==o.settings.mode&&S(-e.top,"reset",0))}},S=function(t,e,i,n){if(o.usingCSS){var s="vertical"==o.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)";r.css("-"+o.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==e?(r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),M()})):"reset"==e?r.css(o.animProp,s):"ticker"==e&&(r.css("-"+o.cssPrefix+"-transition-timing-function","linear"),r.css(o.animProp,s),r.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(n.resetValue,"reset",0),D()}))}else{var a={};a[o.animProp]=t,"slide"==e?r.animate(a,i,o.settings.easing,function(){M()}):"reset"==e?r.css(o.animProp,t):"ticker"==e&&r.animate(a,speed,"linear",function(){S(n.resetValue,"reset",0),D()})}},b=function(){for(var e="",i=m(),n=0;n<i;n++){var s="";o.settings.buildPager&&t.isFunction(o.settings.buildPager)?(s=o.settings.buildPager(n),o.pagerEl.addClass("bx-custom-pager")):(s=n+1,o.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+s+"</a></div>"}o.pagerEl.html(e)},w=function(){o.settings.pagerCustom?o.pagerEl=t(o.settings.pagerCustom):(o.pagerEl=t('<div class="bx-pager" />'),o.settings.pagerSelector?t(o.settings.pagerSelector).html(o.pagerEl):o.controls.el.addClass("bx-has-pager").append(o.pagerEl),b()),o.pagerEl.on("click","a",z)},E=function(){o.controls.next=t('<a class="bx-next" href="">'+o.settings.nextText+"</a>"),o.controls.prev=t('<a class="bx-prev" href="">'+o.settings.prevText+"</a>"),o.controls.next.bind("click",T),o.controls.prev.bind("click",A),o.settings.nextSelector&&t(o.settings.nextSelector).append(o.controls.next),o.settings.prevSelector&&t(o.settings.prevSelector).append(o.controls.prev),o.settings.nextSelector||o.settings.prevSelector||(o.controls.directionEl=t('<div class="bx-controls-direction" />'),o.controls.directionEl.append(o.controls.prev).append(o.controls.next),o.controls.el.addClass("bx-has-controls-direction").append(o.controls.directionEl))},C=function(){o.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+o.settings.startText+"</a></div>"),o.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+o.settings.stopText+"</a></div>"),o.controls.autoEl=t('<div class="bx-controls-auto" />'),o.controls.autoEl.on("click",".bx-start",L),o.controls.autoEl.on("click",".bx-stop",I),o.settings.autoControlsCombine?o.controls.autoEl.append(o.controls.start):o.controls.autoEl.append(o.controls.start).append(o.controls.stop),o.settings.autoControlsSelector?t(o.settings.autoControlsSelector).html(o.controls.autoEl):o.controls.el.addClass("bx-has-controls-auto").append(o.controls.autoEl),W(o.settings.autoStart?"stop":"start")},k=function(){o.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!=i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},T=function(t){o.settings.auto&&r.stopAuto(),r.goToNextSlide(),t.preventDefault()},A=function(t){o.settings.auto&&r.stopAuto(),r.goToPrevSlide(),t.preventDefault()},L=function(t){r.startAuto(),t.preventDefault()},I=function(t){r.stopAuto(),t.preventDefault()},z=function(e){o.settings.auto&&r.stopAuto();var i=t(e.currentTarget);if(void 0!==i.attr("data-slide-index")){var n=parseInt(i.attr("data-slide-index"));n!=o.active.index&&r.goToSlide(n),e.preventDefault()}},P=function(e){var i=o.children.length;return"short"==o.settings.pagerType?(o.settings.maxSlides>1&&(i=Math.ceil(o.children.length/o.settings.maxSlides)),void o.pagerEl.html(e+1+o.settings.pagerShortSeparator+i)):(o.pagerEl.find("a").removeClass("active"),void o.pagerEl.each(function(i,n){t(n).find("a").eq(e).addClass("active")}))},M=function(){if(o.settings.infiniteLoop){var t="";0==o.active.index?t=o.children.eq(0).position():o.active.index==m()-1&&o.carousel?t=o.children.eq((m()-1)*x()).position():o.active.index==o.children.length-1&&(t=o.children.eq(o.children.length-1).position()),t&&("horizontal"==o.settings.mode?S(-t.left,"reset",0):"vertical"==o.settings.mode&&S(-t.top,"reset",0))}o.working=!1,o.settings.onSlideAfter(o.children.eq(o.active.index),o.oldIndex,o.active.index)},W=function(t){o.settings.autoControlsCombine?o.controls.autoEl.html(o.controls[t]):(o.controls.autoEl.find("a").removeClass("active"),o.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},_=function(){1==m()?(o.controls.prev.addClass("disabled"),o.controls.next.addClass("disabled")):!o.settings.infiniteLoop&&o.settings.hideControlOnEnd&&(0==o.active.index?(o.controls.prev.addClass("disabled"),o.controls.next.removeClass("disabled")):o.active.index==m()-1?(o.controls.next.addClass("disabled"),o.controls.prev.removeClass("disabled")):(o.controls.prev.removeClass("disabled"),o.controls.next.removeClass("disabled")))},q=function(){if(o.settings.autoDelay>0){setTimeout(r.startAuto,o.settings.autoDelay)}else r.startAuto();o.settings.autoHover&&r.hover(function(){o.interval&&(r.stopAuto(!0),o.autoPaused=!0)},function(){o.autoPaused&&(r.startAuto(!0),o.autoPaused=null)})},j=function(){var e=0;if("next"==o.settings.autoDirection)r.append(o.children.clone().addClass("bx-clone"));else{r.prepend(o.children.clone().addClass("bx-clone"));var i=o.children.first().position();e="horizontal"==o.settings.mode?-i.left:-i.top}S(e,"reset",0),o.settings.pager=!1,o.settings.controls=!1,o.settings.autoControls=!1,o.settings.tickerHover&&!o.usingCSS&&o.viewport.hover(function(){r.stop()},function(){var e=0;o.children.each(function(i){e+="horizontal"==o.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)});var i=o.settings.speed/e,n="horizontal"==o.settings.mode?"left":"top",s=i*(e-Math.abs(parseInt(r.css(n))));D(s)}),D()},D=function(t){speed=t?t:o.settings.speed;var e={left:0,top:0},i={left:0,top:0};"next"==o.settings.autoDirection?e=r.find(".bx-clone").first().position():i=o.children.first().position();var n="horizontal"==o.settings.mode?-e.left:-e.top,s="horizontal"==o.settings.mode?-i.left:-i.top,a={resetValue:s};S(n,"ticker",speed,a)},O=function(){o.touch={start:{x:0,y:0},end:{x:0,y:0}},o.viewport.bind("touchstart",B)},B=function(t){if(o.working)t.preventDefault();else{o.touch.originalPos=r.position();var e=t.originalEvent;o.touch.start.x=e.changedTouches[0].pageX,o.touch.start.y=e.changedTouches[0].pageY,o.viewport.bind("touchmove",$),o.viewport.bind("touchend",F)}},$=function(t){var e=t.originalEvent,i=Math.abs(e.changedTouches[0].pageX-o.touch.start.x),n=Math.abs(e.changedTouches[0].pageY-o.touch.start.y);if(3*i>n&&o.settings.preventDefaultSwipeX?t.preventDefault():3*n>i&&o.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!=o.settings.mode&&o.settings.oneToOneTouch){var s=0;if("horizontal"==o.settings.mode){var r=e.changedTouches[0].pageX-o.touch.start.x;s=o.touch.originalPos.left+r}else{var r=e.changedTouches[0].pageY-o.touch.start.y;s=o.touch.originalPos.top+r}S(s,"reset",0)}},F=function(t){o.viewport.unbind("touchmove",$);var e=t.originalEvent,i=0;if(o.touch.end.x=e.changedTouches[0].pageX,o.touch.end.y=e.changedTouches[0].pageY,"fade"==o.settings.mode){var n=Math.abs(o.touch.start.x-o.touch.end.x);n>=o.settings.swipeThreshold&&(o.touch.start.x>o.touch.end.x?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto())}else{var n=0;"horizontal"==o.settings.mode?(n=o.touch.end.x-o.touch.start.x,i=o.touch.originalPos.left):(n=o.touch.end.y-o.touch.start.y,i=o.touch.originalPos.top),!o.settings.infiniteLoop&&(0==o.active.index&&n>0||o.active.last&&n<0)?S(i,"reset",200):Math.abs(n)>=o.settings.swipeThreshold?(n<0?r.goToNextSlide():r.goToPrevSlide(),r.stopAuto()):S(i,"reset",200)}o.viewport.unbind("touchend",F)},H=function(e){if(o.initialized){var i=t(window).width(),n=t(window).height();a==i&&l==n||(a=i,l=n,r.redrawSlider(),o.settings.onSliderResize.call(r,o.active.index))}};return r.goToSlide=function(e,i){if(!o.working&&o.active.index!=e)if(o.working=!0,o.oldIndex=o.active.index,e<0?o.active.index=m()-1:e>=m()?o.active.index=0:o.active.index=e,o.settings.onSlideBefore(o.children.eq(o.active.index),o.oldIndex,o.active.index),"next"==i?o.settings.onSlideNext(o.children.eq(o.active.index),o.oldIndex,o.active.index):"prev"==i&&o.settings.onSlidePrev(o.children.eq(o.active.index),o.oldIndex,o.active.index),o.active.last=o.active.index>=m()-1,o.settings.pager&&P(o.active.index),o.settings.controls&&_(),"fade"==o.settings.mode)o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed),o.children.filter(":visible").fadeOut(o.settings.speed).css({zIndex:0}),o.children.eq(o.active.index).css("zIndex",o.settings.slideZIndex+1).fadeIn(o.settings.speed,function(){t(this).css("zIndex",o.settings.slideZIndex),M()});else{o.settings.adaptiveHeight&&o.viewport.height()!=g()&&o.viewport.animate({height:g()},o.settings.adaptiveHeightSpeed);var n=0,s={left:0,top:0};if(!o.settings.infiniteLoop&&o.carousel&&o.active.last)if("horizontal"==o.settings.mode){var a=o.children.eq(o.children.length-1);s=a.position(),n=o.viewport.width()-a.outerWidth()}else{var l=o.children.length-o.settings.minSlides;s=o.children.eq(l).position()}else if(o.carousel&&o.active.last&&"prev"==i){var d=1==o.settings.moveSlides?o.settings.maxSlides-x():(m()-1)*x()-(o.children.length-o.settings.maxSlides),a=r.children(".bx-clone").eq(d);s=a.position()}else if("next"==i&&0==o.active.index)s=r.find("> .bx-clone").eq(o.settings.maxSlides).position(),o.active.last=!1;else if(e>=0){var c=e*x();s=o.children.eq(c).position()}if("undefined"!=typeof s){var h="horizontal"==o.settings.mode?-(s.left-n):-s.top;S(h,"slide",o.settings.speed)}}},r.goToNextSlide=function(){if(o.settings.infiniteLoop||!o.active.last){var t=parseInt(o.active.index)+1;r.goToSlide(t,"next")}},r.goToPrevSlide=function(){if(o.settings.infiniteLoop||0!=o.active.index){var t=parseInt(o.active.index)-1;r.goToSlide(t,"prev")}},r.startAuto=function(t){o.interval||(o.interval=setInterval(function(){"next"==o.settings.autoDirection?r.goToNextSlide():r.goToPrevSlide()},o.settings.pause),o.settings.autoControls&&1!=t&&W("stop"))},r.stopAuto=function(t){o.interval&&(clearInterval(o.interval),o.interval=null,o.settings.autoControls&&1!=t&&W("start"))},r.getCurrentSlide=function(){return o.active.index},r.getCurrentSlideElement=function(){return o.children.eq(o.active.index)},r.getSlideCount=function(){return o.children.length},r.redrawSlider=function(){o.children.add(r.find(".bx-clone")).width(v()),o.viewport.css("height",g()),o.settings.ticker||y(),o.active.last&&(o.active.index=m()-1),o.active.index>=m()&&(o.active.last=!0),o.settings.pager&&!o.settings.pagerCustom&&(b(),P(o.active.index))},r.destroySlider=function(){o.initialized&&(o.initialized=!1,t(".bx-clone",this).remove(),o.children.each(function(){void 0!=t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!=t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),o.controls.el&&o.controls.el.remove(),o.controls.next&&o.controls.next.remove(),o.controls.prev&&o.controls.prev.remove(),o.pagerEl&&o.settings.controls&&o.pagerEl.remove(),t(".bx-caption",this).remove(),o.controls.autoEl&&o.controls.autoEl.remove(),clearInterval(o.interval),o.settings.responsive&&t(window).unbind("resize",H))},r.reloadSlider=function(t){void 0!=t&&(s=t),r.destroySlider(),d()},d(),this}}(jQuery),function(t,e,i){"use strict";var n,s=e.event;s.special.smartresize={setup:function(){e(this).bind("resize",s.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",s.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",n&&clearTimeout(n),n=setTimeout(function(){s.dispatch.apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Mason=function(t,i){this.element=e(i),this._create(t),this._init()},e.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},e.Mason.prototype={_filterFindBricks:function(t){var e=this.options.itemSelector;return e?t.filter(e).add(t.find(e)):t},_getBricks:function(t){var e=this._filterFindBricks(t).css({position:"absolute"}).addClass("masonry-brick");return e},_create:function(i){this.options=e.extend(!0,{},e.Mason.settings,i),this.styleQueue=[];var n=this.element[0].style;this.originalStyle={height:n.height||""};var s=this.options.containerStyle;for(var o in s)this.originalStyle[o]=n[o]||"";this.element.css(s),this.horizontalDirection=this.options.isRTL?"right":"left";var r=this.element.css("padding-"+this.horizontalDirection),a=this.element.css("padding-top");this.offset={x:r?parseInt(r,10):0,y:a?parseInt(a,10):0},this.isFluid=this.options.columnWidth&&"function"==typeof this.options.columnWidth;var l=this;setTimeout(function(){l.element.addClass("masonry")},0),this.options.isResizable&&e(t).bind("smartresize.masonry",function(){l.resize()}),this.reloadItems()},_init:function(t){this._getColumns(),this._reLayout(t)},option:function(t,i){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))},layout:function(t,e){for(var i=0,n=t.length;i<n;i++)this._placeBrick(t[i]);var s={};if(s.height=Math.max.apply(Math,this.colYs),this.options.isFitWidth){var o=0;for(i=this.cols;--i&&0===this.colYs[i];)o++;s.width=(this.cols-o)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:s});var r,a=this.isLaidOut&&this.options.isAnimated?"animate":"css",l=this.options.animationOptions;for(i=0,n=this.styleQueue.length;i<n;i++)r=this.styleQueue[i],r.$el[a](r.style,l);this.styleQueue=[],e&&e.call(t),this.isLaidOut=!0},_getColumns:function(){var t=this.options.isFitWidth?this.element.parent():this.element,e=t.width();this.columnWidth=this.isFluid?this.options.columnWidth(e):this.options.columnWidth||this.$bricks.outerWidth(!0)||e,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((e+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(t){var i,n,s,o,r,a=e(t);if(i=Math.ceil(a.outerWidth(!0)/this.columnWidth),i=Math.min(i,this.cols),1===i)s=this.colYs;else for(n=this.cols+1-i,s=[],r=0;r<n;r++)o=this.colYs.slice(r,r+i),s[r]=Math.max.apply(Math,o);for(var l=Math.min.apply(Math,s),d=0,c=0,h=s.length;c<h;c++)if(s[c]===l){d=c;break}var u={top:l+this.offset.y};u[this.horizontalDirection]=this.columnWidth*d+this.offset.x,this.styleQueue.push({$el:a,style:u});var g=l+a.outerHeight(!0),p=this.cols+1-h;for(c=0;c<p;c++)this.colYs[d+c]=g},resize:function(){var t=this.cols;this._getColumns(),(this.isFluid||this.cols!==t)&&this._reLayout()},_reLayout:function(t){var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.layout(this.$bricks,t)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(t){this.reloadItems(),this._init(t)},appended:function(t,e,i){if(e){this._filterFindBricks(t).css({top:this.element.height()});var n=this;setTimeout(function(){n._appended(t,i)},1)}else this._appended(t,i)},_appended:function(t,e){var i=this._getBricks(t);this.$bricks=this.$bricks.add(i),this.layout(i,e)},remove:function(t){this.$bricks=this.$bricks.not(t),t.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var i=this.element[0].style;for(var n in this.originalStyle)i[n]=this.originalStyle[n];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),e(t).unbind(".masonry")}},e.fn.imagesLoaded=function(t){function i(){t.call(s,o)}function n(t){var s=t.target;s.src!==a&&e.inArray(s,l)===-1&&(l.push(s),
--r<=0&&(setTimeout(i),o.unbind(".imagesLoaded",n)))}var s=this,o=s.find("img").add(s.filter("img")),r=o.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return r||i(),o.bind("load.imagesLoaded error.imagesLoaded",n).each(function(){var t=this.src;this.src=a,this.src=t}),s};var o=function(e){t.console&&t.console.error(e)};e.fn.masonry=function(t){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var n=e.data(this,"masonry");return n?e.isFunction(n[t])&&"_"!==t.charAt(0)?void n[t].apply(n,i):void o("no such method '"+t+"' for masonry instance"):void o("cannot call methods on masonry prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var i=e.data(this,"masonry");i?(i.option(t||{}),i._init()):e.data(this,"masonry",new e.Mason(t,this))});return this}}(window,jQuery),$(function(){function t(){var t=$(".grid");t.imagesLoaded(function(){t.masonry({itemSelector:".grid-item",columnWidth:function(t){return t/3-10},gutterWidth:10})})}function e(){$(".ideas").find("div").remove();var e=$(".search__field").val();$.ajax({url:"https://pixabay.com/api/?key=2650584-e8feab9b11ed644dcec728ac9&q="+e+"&image_type=photo",dataType:"jsonp",success:function(e){var i=$("#container").html(),n=tmpl(i,e);$(".ideas").append(n),t()},error:function(){alert("Error!")}})}$(".bxslider").bxSlider({auto:!1,autoControls:!0}),$(".grid").masonry({itemSelector:".grid-item",columnWidth:200}),e(),$(".search__button").on("click",function(t){t.preventDefault(),e(),$(".search__field").val("")})}),function(){var t={};this.tmpl=function e(i,n){var s=/\W/.test(i)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+i.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):t[i]=t[i]||e(document.getElementById(i).innerHTML);return n?s(n):s}}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlc2xvYWRlZC5wa2dkLmpzIiwianF1ZXJ5LmJ4c2xpZGVyLmpzIiwianF1ZXJ5Lm1hc29ucnkubWluLmpzIiwic2NyaXB0LmpzIiwidG1wbC5qcyJdLCJuYW1lcyI6WyJFdmVudEVtaXR0ZXIiLCJpbmRleE9mTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImkiLCJsZW5ndGgiLCJhbGlhcyIsIm5hbWUiLCJ0aGlzIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwcm90byIsInByb3RvdHlwZSIsImV4cG9ydHMiLCJvcmlnaW5hbEdsb2JhbFZhbHVlIiwiZ2V0TGlzdGVuZXJzIiwiZXZ0IiwicmVzcG9uc2UiLCJrZXkiLCJldmVudHMiLCJfZ2V0RXZlbnRzIiwiaGFzT3duUHJvcGVydHkiLCJ0ZXN0IiwiZmxhdHRlbkxpc3RlbmVycyIsImZsYXRMaXN0ZW5lcnMiLCJwdXNoIiwiZ2V0TGlzdGVuZXJzQXNPYmplY3QiLCJBcnJheSIsImFkZExpc3RlbmVyIiwibGlzdGVuZXJJc1dyYXBwZWQiLCJvbmNlIiwib24iLCJhZGRPbmNlTGlzdGVuZXIiLCJkZWZpbmVFdmVudCIsImRlZmluZUV2ZW50cyIsImV2dHMiLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4Iiwic3BsaWNlIiwib2ZmIiwiYWRkTGlzdGVuZXJzIiwibWFuaXB1bGF0ZUxpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVycyIsInJlbW92ZSIsInZhbHVlIiwic2luZ2xlIiwibXVsdGlwbGUiLCJSZWdFeHAiLCJjYWxsIiwicmVtb3ZlRXZlbnQiLCJ0eXBlIiwiX2V2ZW50cyIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXRFdmVudCIsImFyZ3MiLCJfZ2V0T25jZVJldHVyblZhbHVlIiwidHJpZ2dlciIsImVtaXQiLCJzbGljZSIsInNldE9uY2VSZXR1cm5WYWx1ZSIsIl9vbmNlUmV0dXJuVmFsdWUiLCJub0NvbmZsaWN0IiwiZGVmaW5lIiwiYW1kIiwibW9kdWxlIiwid2luZG93IiwiZ2V0SUVFdmVudCIsIm9iaiIsImV2ZW50IiwidGFyZ2V0Iiwic3JjRWxlbWVudCIsImRvY0VsZW0iLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZm4iLCJhdHRhY2hFdmVudCIsImhhbmRsZUV2ZW50IiwidW5iaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwiZXJyIiwidW5kZWZpbmVkIiwiZXZlbnRpZSIsImZhY3RvcnkiLCJyZXF1aXJlIiwiaW1hZ2VzTG9hZGVkIiwiZXh0ZW5kIiwiYSIsImIiLCJwcm9wIiwiaXNBcnJheSIsIm9ialRvU3RyaW5nIiwibWFrZUFycmF5IiwiYXJ5IiwiSW1hZ2VzTG9hZGVkIiwiZWxlbSIsIm9wdGlvbnMiLCJvbkFsd2F5cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtZW50cyIsImdldEltYWdlcyIsIiQiLCJqcURlZmVycmVkIiwiRGVmZXJyZWQiLCJfdGhpcyIsInNldFRpbWVvdXQiLCJjaGVjayIsIkxvYWRpbmdJbWFnZSIsImltZyIsIkJhY2tncm91bmQiLCJ1cmwiLCJlbGVtZW50IiwiSW1hZ2UiLCJqUXVlcnkiLCJjb25zb2xlIiwiT2JqZWN0IiwidG9TdHJpbmciLCJpbWFnZXMiLCJhZGRFbGVtZW50SW1hZ2VzIiwibm9kZU5hbWUiLCJhZGRJbWFnZSIsImJhY2tncm91bmQiLCJhZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyIsIm5vZGVUeXBlIiwiZWxlbWVudE5vZGVUeXBlcyIsImNoaWxkSW1ncyIsImNoaWxkcmVuIiwiY2hpbGQiLCIxIiwiOSIsIjExIiwic3R5bGUiLCJnZXRTdHlsZSIsInJlVVJMIiwibWF0Y2hlcyIsImV4ZWMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhZGRCYWNrZ3JvdW5kIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImxvYWRpbmdJbWFnZSIsIm9uUHJvZ3Jlc3MiLCJpbWFnZSIsIm1lc3NhZ2UiLCJwcm9ncmVzcyIsInByb2dyZXNzZWRDb3VudCIsImhhc0FueUJyb2tlbiIsImNvbXBsZXRlIiwiaXNMb2FkZWQiLCJub3RpZnkiLCJkZWJ1ZyIsImxvZyIsImV2ZW50TmFtZSIsImlzQ29tcGxldGUiLCJqcU1ldGhvZCIsImdldElzSW1hZ2VDb21wbGV0ZSIsImNvbmZpcm0iLCJuYXR1cmFsV2lkdGgiLCJwcm94eUltYWdlIiwic3JjIiwibWV0aG9kIiwib25sb2FkIiwidW5iaW5kRXZlbnRzIiwib25lcnJvciIsIm1ha2VKUXVlcnlQbHVnaW4iLCJjYWxsYmFjayIsImluc3RhbmNlIiwicHJvbWlzZSIsInBsdWdpbiIsImRlZmF1bHRzIiwibW9kZSIsInNsaWRlU2VsZWN0b3IiLCJpbmZpbml0ZUxvb3AiLCJoaWRlQ29udHJvbE9uRW5kIiwic3BlZWQiLCJlYXNpbmciLCJzbGlkZU1hcmdpbiIsInN0YXJ0U2xpZGUiLCJyYW5kb21TdGFydCIsImNhcHRpb25zIiwidGlja2VyIiwidGlja2VySG92ZXIiLCJhZGFwdGl2ZUhlaWdodCIsImFkYXB0aXZlSGVpZ2h0U3BlZWQiLCJ2aWRlbyIsInVzZUNTUyIsInByZWxvYWRJbWFnZXMiLCJyZXNwb25zaXZlIiwic2xpZGVaSW5kZXgiLCJ3cmFwcGVyQ2xhc3MiLCJ0b3VjaEVuYWJsZWQiLCJzd2lwZVRocmVzaG9sZCIsIm9uZVRvT25lVG91Y2giLCJwcmV2ZW50RGVmYXVsdFN3aXBlWCIsInByZXZlbnREZWZhdWx0U3dpcGVZIiwicGFnZXIiLCJwYWdlclR5cGUiLCJwYWdlclNob3J0U2VwYXJhdG9yIiwicGFnZXJTZWxlY3RvciIsImJ1aWxkUGFnZXIiLCJwYWdlckN1c3RvbSIsImNvbnRyb2xzIiwibmV4dFRleHQiLCJwcmV2VGV4dCIsIm5leHRTZWxlY3RvciIsInByZXZTZWxlY3RvciIsImF1dG9Db250cm9scyIsInN0YXJ0VGV4dCIsInN0b3BUZXh0IiwiYXV0b0NvbnRyb2xzQ29tYmluZSIsImF1dG9Db250cm9sc1NlbGVjdG9yIiwiYXV0byIsInBhdXNlIiwiYXV0b1N0YXJ0IiwiYXV0b0RpcmVjdGlvbiIsImF1dG9Ib3ZlciIsImF1dG9EZWxheSIsImF1dG9TbGlkZUZvck9uZVBhZ2UiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVXaWR0aCIsIm9uU2xpZGVyTG9hZCIsIm9uU2xpZGVCZWZvcmUiLCJvblNsaWRlQWZ0ZXIiLCJvblNsaWRlTmV4dCIsIm9uU2xpZGVQcmV2Iiwib25TbGlkZXJSZXNpemUiLCJieFNsaWRlciIsImVhY2giLCJzbGlkZXIiLCJlbCIsIndpbmRvd1dpZHRoIiwid2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJoZWlnaHQiLCJpbml0Iiwic2V0dGluZ3MiLCJwYXJzZUludCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGl2ZSIsImNhcm91c2VsIiwibWluVGhyZXNob2xkIiwibWF4VGhyZXNob2xkIiwid29ya2luZyIsImludGVydmFsIiwiYW5pbVByb3AiLCJ1c2luZ0NTUyIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJwcm9wcyIsImNzc1ByZWZpeCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImRhdGEiLCJhdHRyIiwic2V0dXAiLCJ3cmFwIiwidmlld3BvcnQiLCJwYXJlbnQiLCJsb2FkZXIiLCJwcmVwZW5kIiwiY3NzIiwicG9zaXRpb24iLCJnZXROdW1iZXJTbGlkZXNTaG93aW5nIiwib3ZlcmZsb3ciLCJtYXhXaWR0aCIsImdldFZpZXdwb3J0TWF4V2lkdGgiLCJtYXJnaW4iLCJmbG9hdCIsImxpc3RTdHlsZSIsImdldFNsaWRlV2lkdGgiLCJ6SW5kZXgiLCJkaXNwbGF5IiwiZXEiLCJhcHBlbmRDYXB0aW9ucyIsImxhc3QiLCJnZXRQYWdlclF0eSIsImZpdFZpZHMiLCJwcmVsb2FkU2VsZWN0b3IiLCJhcHBlbmRQYWdlciIsImFwcGVuZENvbnRyb2xzIiwiYXBwZW5kQ29udHJvbHNBdXRvIiwiYWZ0ZXIiLCJsb2FkRWxlbWVudHMiLCJzdGFydCIsInNlbGVjdG9yIiwidG90YWwiLCJmaW5kIiwiY291bnQiLCJvbmUiLCJsb2FkIiwic2xpY2VBcHBlbmQiLCJjbG9uZSIsImFkZENsYXNzIiwic2xpY2VQcmVwZW5kIiwiYXBwZW5kIiwic2V0U2xpZGVQb3NpdGlvbiIsImdldFZpZXdwb3J0SGVpZ2h0IiwicmVkcmF3U2xpZGVyIiwiaW5pdGlhbGl6ZWQiLCJyZXNpemVXaW5kb3ciLCJpbml0QXV0byIsImluaXRUaWNrZXIiLCJ1cGRhdGVQYWdlckFjdGl2ZSIsInVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzIiwiaW5pdFRvdWNoIiwiY3VycmVudEluZGV4IiwiZ2V0TW92ZUJ5IiwiYWRkIiwib3V0ZXJIZWlnaHQiLCJtYXgiLCJtYXAiLCJnZXQiLCJwYXJzZUZsb2F0IiwibmV3RWxXaWR0aCIsIndyYXBXaWR0aCIsInNsaWRlc1Nob3dpbmciLCJjaGlsZFdpZHRoIiwiZmlyc3QiLCJwYWdlclF0eSIsImNlaWwiLCJicmVha1BvaW50IiwiY291bnRlciIsImxhc3RDaGlsZCIsInNldFBvc2l0aW9uUHJvcGVydHkiLCJsZWZ0Iiwib3V0ZXJXaWR0aCIsImxhc3RTaG93aW5nSW5kZXgiLCJ0b3AiLCJkdXJhdGlvbiIsInBhcmFtcyIsInByb3BWYWx1ZSIsInVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uIiwidGlja2VyTG9vcCIsImFuaW1hdGVPYmoiLCJhbmltYXRlIiwicG9wdWxhdGVQYWdlciIsInBhZ2VySHRtbCIsImxpbmtDb250ZW50IiwiaXNGdW5jdGlvbiIsInBhZ2VyRWwiLCJodG1sIiwiY2xpY2tQYWdlckJpbmQiLCJuZXh0IiwicHJldiIsImNsaWNrTmV4dEJpbmQiLCJjbGlja1ByZXZCaW5kIiwiZGlyZWN0aW9uRWwiLCJzdG9wIiwiYXV0b0VsIiwiY2xpY2tTdGFydEJpbmQiLCJjbGlja1N0b3BCaW5kIiwidXBkYXRlQXV0b0NvbnRyb2xzIiwidGl0bGUiLCJlIiwic3RvcEF1dG8iLCJnb1RvTmV4dFNsaWRlIiwicHJldmVudERlZmF1bHQiLCJnb1RvUHJldlNsaWRlIiwic3RhcnRBdXRvIiwicGFnZXJMaW5rIiwiY3VycmVudFRhcmdldCIsInBhZ2VySW5kZXgiLCJnb1RvU2xpZGUiLCJzbGlkZUluZGV4IiwibGVuIiwicmVtb3ZlQ2xhc3MiLCJvbGRJbmRleCIsInN0YXRlIiwiaG92ZXIiLCJhdXRvUGF1c2VkIiwic3RhcnRQb3NpdGlvbiIsInRvdGFsRGltZW5zIiwicmF0aW8iLCJwcm9wZXJ0eSIsIm5ld1NwZWVkIiwiYWJzIiwicmVzdW1lU3BlZWQiLCJyZXNldCIsImFuaW1hdGVQcm9wZXJ0eSIsInJlc2V0VmFsdWUiLCJ0b3VjaCIsIngiLCJ5IiwiZW5kIiwib25Ub3VjaFN0YXJ0Iiwib3JpZ2luYWxQb3MiLCJvcmlnIiwib3JpZ2luYWxFdmVudCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsInhNb3ZlbWVudCIsInlNb3ZlbWVudCIsImNoYW5nZSIsImRpc3RhbmNlIiwid2luZG93V2lkdGhOZXciLCJ3aW5kb3dIZWlnaHROZXciLCJkaXJlY3Rpb24iLCJmaWx0ZXIiLCJmYWRlT3V0IiwiZmFkZUluIiwibW92ZUJ5IiwicmVxdWVzdEVsIiwicHJldmVudENvbnRyb2xVcGRhdGUiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJnZXRDdXJyZW50U2xpZGUiLCJnZXRDdXJyZW50U2xpZGVFbGVtZW50IiwiZ2V0U2xpZGVDb3VudCIsImRlc3Ryb3lTbGlkZXIiLCJyZW1vdmVBdHRyIiwidW53cmFwIiwicmVsb2FkU2xpZGVyIiwidCIsIm4iLCJyIiwic3BlY2lhbCIsInNtYXJ0cmVzaXplIiwiaGFuZGxlciIsInRlYXJkb3duIiwicyIsImNsZWFyVGltZW91dCIsImRpc3BhdGNoIiwiTWFzb24iLCJfY3JlYXRlIiwiX2luaXQiLCJpc1Jlc2l6YWJsZSIsImlzQW5pbWF0ZWQiLCJhbmltYXRpb25PcHRpb25zIiwicXVldWUiLCJndXR0ZXJXaWR0aCIsImlzUlRMIiwiaXNGaXRXaWR0aCIsImNvbnRhaW5lclN0eWxlIiwiX2ZpbHRlckZpbmRCcmlja3MiLCJpdGVtU2VsZWN0b3IiLCJfZ2V0QnJpY2tzIiwic3R5bGVRdWV1ZSIsIm9yaWdpbmFsU3R5bGUiLCJob3Jpem9udGFsRGlyZWN0aW9uIiwibyIsInUiLCJvZmZzZXQiLCJpc0ZsdWlkIiwiY29sdW1uV2lkdGgiLCJyZXNpemUiLCJyZWxvYWRJdGVtcyIsIl9nZXRDb2x1bW5zIiwiX3JlTGF5b3V0Iiwib3B0aW9uIiwiaXNQbGFpbk9iamVjdCIsImxheW91dCIsIl9wbGFjZUJyaWNrIiwiY29sWXMiLCJjb2xzIiwiJGVsIiwiaXNMYWlkT3V0IiwiJGJyaWNrcyIsIm1pbiIsImYiLCJsIiwiYyIsImgiLCJwIiwiZCIsInJlbG9hZCIsImFwcGVuZGVkIiwiX2FwcGVuZGVkIiwibm90IiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJpbkFycmF5IiwiZXJyb3IiLCJtYXNvbnJ5IiwiY2hhckF0IiwiZ3JpZCIsIiRncmlkIiwiY29udGFpbmVyV2lkdGgiLCJzZWFyY2giLCIkc2VhcmNoS2V5IiwidmFsIiwiYWpheCIsImRhdGFUeXBlIiwic3VjY2VzcyIsIiRodG1sIiwiJGNvbnRlbnQiLCJ0bXBsIiwiYWxlcnQiLCJjYWNoZSIsInN0ciIsIkZ1bmN0aW9uIiwic3BsaXQiLCJqb2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJDQWFBLFdBQ0EsWUFRQSxTQUFBQSxNQWVBLFFBQUFDLEdBQUFDLEVBQUFDLEdBRUEsSUFEQSxHQUFBQyxHQUFBRixFQUFBRyxPQUNBRCxLQUNBLEdBQUFGLEVBQUFFLEdBQUFELFdBQUFBLEVBQ0EsTUFBQUMsRUFJQSxVQVVBLFFBQUFFLEdBQUFDLEdBQ0EsTUFBQSxZQUNBLE1BQUFDLE1BQUFELEdBQUFFLE1BQUFELEtBQUFFLFlBaENBLEdBQUFDLEdBQUFYLEVBQUFZLFVBQ0FDLEVBQUFMLEtBQ0FNLEVBQUFELEVBQUFiLFlBMkNBVyxHQUFBSSxhQUFBLFNBQUFDLEdBQ0EsR0FDQUMsR0FDQUMsRUFGQUMsRUFBQVgs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WUFBQSxTQUFBaUMsR0FDQSxNQUFBQSxHQUFBLEVBQUEsSUFFQS9DLFlBQUEsT0FXQSxRQUFBZ0QsS0FDQS9YLEVBQUEsVUFBQTZMLEtBQUEsT0FBQXpQLFFBQ0EsSUFBQTRiLEdBQUFoWSxFQUFBLGtCQUFBaVksS0FFQWpZLEdBQUFrWSxNQUNBelgsSUFBQSxvRUFBQXVYLEVBQUEsb0JBQ0FHLFNBQUEsUUFDQUMsUUFBQSxTQUFBek8sR0FFQSxHQUFBME8sR0FBQXJZLEVBQUEsY0FBQW1QLE9BQ0FtSixFQUFBQyxLQUFBRixFQUFBMU8sRUFDQTNKLEdBQUEsVUFBQXFNLE9BQUFpTSxHQUNBVixLQUVBSCxNQUFBLFdBQ0FlLE1BQUEsYUF2Q0F4WSxFQUFBLGFBQUErSCxVQUNBakIsTUFBQSxFQUNBTCxjQUFBLElBZ0JBekcsRUFBQSxTQUFBMFgsU0FFQXRDLGFBQUEsYUFDQVMsWUFBQSxNQXVCQWtDLElBRUEvWCxFQUFBLG1CQUFBeEUsR0FBQSxRQUFBLFNBQUF3VSxHQUNBQSxFQUFBRyxpQkFDQTRILElBQ0EvWCxFQUFBLGtCQUFBaVksSUFBQSxRQ2pEQSxXQUNBLEdBQUFRLEtBRUF4ZSxNQUFBc2UsS0FBQSxRQUFBQSxHQUFBRyxFQUFBL08sR0FHQSxHQUFBdEwsR0FBQSxLQUFBdEQsS0FBQTJkLEdBTUEsR0FBQUMsVUFBQSxNQUNBLDJFQU1BRCxFQUNBalAsUUFBQSxZQUFBLEtBQ0FtUCxNQUFBLE1BQUFDLEtBQUEsTUFDQXBQLFFBQUEsbUJBQUEsUUFDQUEsUUFBQSxjQUFBLFVBQ0FtUCxNQUFBLE1BQUFDLEtBQUEsT0FDQUQsTUFBQSxNQUFBQyxLQUFBLFlBQ0FELE1BQUEsTUFBQUMsS0FBQSxPQUNBLDBCQXBCQUosRUFBQUMsR0FBQUQsRUFBQUMsSUFDQUgsRUFBQXRhLFNBQUE2YSxlQUFBSixHQUFBSyxVQXNCQSxPQUFBcFAsR0FBQXRMLEVBQUFzTCxHQUFBdEwiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBpbWFnZXNMb2FkZWQgUEFDS0FHRUQgdjMuMi4wXHJcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXHJcbiAqIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuLyohXHJcbiAqIEV2ZW50RW1pdHRlciB2NC4yLjYgLSBnaXQuaW8vZWVcclxuICogT2xpdmVyIENhbGR3ZWxsXHJcbiAqIE1JVCBsaWNlbnNlXHJcbiAqIEBwcmVzZXJ2ZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cclxuXHQvKipcclxuXHQgKiBDbGFzcyBmb3IgbWFuYWdpbmcgZXZlbnRzLlxyXG5cdCAqIENhbiBiZSBleHRlbmRlZCB0byBwcm92aWRlIGV2ZW50IGZ1bmN0aW9uYWxpdHkgaW4gb3RoZXIgY2xhc3Nlcy5cclxuXHQgKlxyXG5cdCAqIEBjbGFzcyBFdmVudEVtaXR0ZXIgTWFuYWdlcyBldmVudCByZWdpc3RlcmluZyBhbmQgZW1pdHRpbmcuXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge31cclxuXHJcblx0Ly8gU2hvcnRjdXRzIHRvIGltcHJvdmUgc3BlZWQgYW5kIHNpemVcclxuXHR2YXIgcHJvdG8gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlO1xyXG5cdHZhciBleHBvcnRzID0gdGhpcztcclxuXHR2YXIgb3JpZ2luYWxHbG9iYWxWYWx1ZSA9IGV4cG9ydHMuRXZlbnRFbWl0dGVyO1xyXG5cclxuXHQvKipcclxuXHQgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQgaW4gaXQncyBzdG9yYWdlIGFycmF5LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtGdW5jdGlvbltdfSBsaXN0ZW5lcnMgQXJyYXkgb2YgbGlzdGVuZXJzIHRvIHNlYXJjaCB0aHJvdWdoLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBsb29rIGZvci5cclxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIsIC0xIGlmIG5vdCBmb3VuZFxyXG5cdCAqIEBhcGkgcHJpdmF0ZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGluZGV4T2ZMaXN0ZW5lcihsaXN0ZW5lcnMsIGxpc3RlbmVyKSB7XHJcblx0XHR2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7XHJcblx0XHR3aGlsZSAoaS0tKSB7XHJcblx0XHRcdGlmIChsaXN0ZW5lcnNbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XHJcblx0XHRcdFx0cmV0dXJuIGk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbGlhcyBhIG1ldGhvZCB3aGlsZSBrZWVwaW5nIHRoZSBjb250ZXh0IGNvcnJlY3QsIHRvIGFsbG93IGZvciBvdmVyd3JpdGluZyBvZiB0YXJnZXQgbWV0aG9kLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBtZXRob2QuXHJcblx0ICogQHJldHVybiB7RnVuY3Rpb259IFRoZSBhbGlhc2VkIG1ldGhvZFxyXG5cdCAqIEBhcGkgcHJpdmF0ZVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGFsaWFzKG5hbWUpIHtcclxuXHRcdHJldHVybiBmdW5jdGlvbiBhbGlhc0Nsb3N1cmUoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzW25hbWVdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQuXHJcblx0ICogV2lsbCBpbml0aWFsaXNlIHRoZSBldmVudCBvYmplY3QgYW5kIGxpc3RlbmVyIGFycmF5cyBpZiByZXF1aXJlZC5cclxuXHQgKiBXaWxsIHJldHVybiBhbiBvYmplY3QgaWYgeW91IHVzZSBhIHJlZ2V4IHNlYXJjaC4gVGhlIG9iamVjdCBjb250YWlucyBrZXlzIGZvciBlYWNoIG1hdGNoZWQgZXZlbnQuIFNvIC9iYVtyel0vIG1pZ2h0IHJldHVybiBhbiBvYmplY3QgY29udGFpbmluZyBiYXIgYW5kIGJhei4gQnV0IG9ubHkgaWYgeW91IGhhdmUgZWl0aGVyIGRlZmluZWQgdGhlbSB3aXRoIGRlZmluZUV2ZW50IG9yIGFkZGVkIHNvbWUgbGlzdGVuZXJzIHRvIHRoZW0uXHJcblx0ICogRWFjaCBwcm9wZXJ0eSBpbiB0aGUgb2JqZWN0IHJlc3BvbnNlIGlzIGFuIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfFJlZ0V4cH0gZXZ0IE5hbWUgb2YgdGhlIGV2ZW50IHRvIHJldHVybiB0aGUgbGlzdGVuZXJzIGZyb20uXHJcblx0ICogQHJldHVybiB7RnVuY3Rpb25bXXxPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIHRoZSBldmVudC5cclxuXHQgKi9cclxuXHRwcm90by5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRMaXN0ZW5lcnMoZXZ0KSB7XHJcblx0XHR2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XHJcblx0XHR2YXIgcmVzcG9uc2U7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdC8vIFJldHVybiBhIGNvbmNhdGVuYXRlZCBhcnJheSBvZiBhbGwgbWF0Y2hpbmcgZXZlbnRzIGlmXHJcblx0XHQvLyB0aGUgc2VsZWN0b3IgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24uXHJcblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0cmVzcG9uc2UgPSB7fTtcclxuXHRcdFx0Zm9yIChrZXkgaW4gZXZlbnRzKSB7XHJcblx0XHRcdFx0aWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGV2dC50ZXN0KGtleSkpIHtcclxuXHRcdFx0XHRcdHJlc3BvbnNlW2tleV0gPSBldmVudHNba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRyZXNwb25zZSA9IGV2ZW50c1tldnRdIHx8IChldmVudHNbZXZ0XSA9IFtdKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogVGFrZXMgYSBsaXN0IG9mIGxpc3RlbmVyIG9iamVjdHMgYW5kIGZsYXR0ZW5zIGl0IGludG8gYSBsaXN0IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucy5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0W119IGxpc3RlbmVycyBSYXcgbGlzdGVuZXIgb2JqZWN0cy5cclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbltdfSBKdXN0IHRoZSBsaXN0ZW5lciBmdW5jdGlvbnMuXHJcblx0ICovXHJcblx0cHJvdG8uZmxhdHRlbkxpc3RlbmVycyA9IGZ1bmN0aW9uIGZsYXR0ZW5MaXN0ZW5lcnMobGlzdGVuZXJzKSB7XHJcblx0XHR2YXIgZmxhdExpc3RlbmVycyA9IFtdO1xyXG5cdFx0dmFyIGk7XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkgKz0gMSkge1xyXG5cdFx0XHRmbGF0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXJzW2ldLmxpc3RlbmVyKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmxhdExpc3RlbmVycztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBGZXRjaGVzIHRoZSByZXF1ZXN0ZWQgbGlzdGVuZXJzIHZpYSBnZXRMaXN0ZW5lcnMgYnV0IHdpbGwgYWx3YXlzIHJldHVybiB0aGUgcmVzdWx0cyBpbnNpZGUgYW4gb2JqZWN0LiBUaGlzIGlzIG1haW5seSBmb3IgaW50ZXJuYWwgdXNlIGJ1dCBvdGhlcnMgbWF5IGZpbmQgaXQgdXNlZnVsLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmV0dXJuIHRoZSBsaXN0ZW5lcnMgZnJvbS5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEFsbCBsaXN0ZW5lciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IGluIGFuIG9iamVjdC5cclxuXHQgKi9cclxuXHRwcm90by5nZXRMaXN0ZW5lcnNBc09iamVjdCA9IGZ1bmN0aW9uIGdldExpc3RlbmVyc0FzT2JqZWN0KGV2dCkge1xyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzKGV2dCk7XHJcblx0XHR2YXIgcmVzcG9uc2U7XHJcblxyXG5cdFx0aWYgKGxpc3RlbmVycyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdHJlc3BvbnNlID0ge307XHJcblx0XHRcdHJlc3BvbnNlW2V2dF0gPSBsaXN0ZW5lcnM7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3BvbnNlIHx8IGxpc3RlbmVycztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGRzIGEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gdGhlIHNwZWNpZmllZCBldmVudC5cclxuXHQgKiBUaGUgbGlzdGVuZXIgd2lsbCBub3QgYmUgYWRkZWQgaWYgaXQgaXMgYSBkdXBsaWNhdGUuXHJcblx0ICogSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBpdCBpcyBjYWxsZWQuXHJcblx0ICogSWYgeW91IHBhc3MgYSByZWd1bGFyIGV4cHJlc3Npb24gYXMgdGhlIGV2ZW50IG5hbWUgdGhlbiB0aGUgbGlzdGVuZXIgd2lsbCBiZSBhZGRlZCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxyXG5cdCAqL1xyXG5cdHByb3RvLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcikge1xyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcclxuXHRcdHZhciBsaXN0ZW5lcklzV3JhcHBlZCA9IHR5cGVvZiBsaXN0ZW5lciA9PT0gJ29iamVjdCc7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdGZvciAoa2V5IGluIGxpc3RlbmVycykge1xyXG5cdFx0XHRpZiAobGlzdGVuZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgaW5kZXhPZkxpc3RlbmVyKGxpc3RlbmVyc1trZXldLCBsaXN0ZW5lcikgPT09IC0xKSB7XHJcblx0XHRcdFx0bGlzdGVuZXJzW2tleV0ucHVzaChsaXN0ZW5lcklzV3JhcHBlZCA/IGxpc3RlbmVyIDoge1xyXG5cdFx0XHRcdFx0bGlzdGVuZXI6IGxpc3RlbmVyLFxyXG5cdFx0XHRcdFx0b25jZTogZmFsc2VcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIG9mIGFkZExpc3RlbmVyXHJcblx0ICovXHJcblx0cHJvdG8ub24gPSBhbGlhcygnYWRkTGlzdGVuZXInKTtcclxuXHJcblx0LyoqXHJcblx0ICogU2VtaS1hbGlhcyBvZiBhZGRMaXN0ZW5lci4gSXQgd2lsbCBhZGQgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmVcclxuXHQgKiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgaXQncyBmaXJzdCBleGVjdXRpb24uXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBhdHRhY2ggdGhlIGxpc3RlbmVyIHRvLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgaXMgZW1pdHRlZC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZCBhZnRlciBjYWxsaW5nLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxyXG5cdCAqL1xyXG5cdHByb3RvLmFkZE9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZE9uY2VMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldnQsIHtcclxuXHRcdFx0bGlzdGVuZXI6IGxpc3RlbmVyLFxyXG5cdFx0XHRvbmNlOiB0cnVlXHJcblx0XHR9KTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBbGlhcyBvZiBhZGRPbmNlTGlzdGVuZXIuXHJcblx0ICovXHJcblx0cHJvdG8ub25jZSA9IGFsaWFzKCdhZGRPbmNlTGlzdGVuZXInKTtcclxuXHJcblx0LyoqXHJcblx0ICogRGVmaW5lcyBhbiBldmVudCBuYW1lLiBUaGlzIGlzIHJlcXVpcmVkIGlmIHlvdSB3YW50IHRvIHVzZSBhIHJlZ2V4IHRvIGFkZCBhIGxpc3RlbmVyIHRvIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLiBJZiB5b3UgZG9uJ3QgZG8gdGhpcyB0aGVuIGhvdyBkbyB5b3UgZXhwZWN0IGl0IHRvIGtub3cgd2hhdCBldmVudCB0byBhZGQgdG8/IFNob3VsZCBpdCBqdXN0IGFkZCB0byBldmVyeSBwb3NzaWJsZSBtYXRjaCBmb3IgYSByZWdleD8gTm8uIFRoYXQgaXMgc2NhcnkgYW5kIGJhZC5cclxuXHQgKiBZb3UgbmVlZCB0byB0ZWxsIGl0IHdoYXQgZXZlbnQgbmFtZXMgc2hvdWxkIGJlIG1hdGNoZWQgYnkgYSByZWdleC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gY3JlYXRlLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxyXG5cdCAqL1xyXG5cdHByb3RvLmRlZmluZUV2ZW50ID0gZnVuY3Rpb24gZGVmaW5lRXZlbnQoZXZ0KSB7XHJcblx0XHR0aGlzLmdldExpc3RlbmVycyhldnQpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogVXNlcyBkZWZpbmVFdmVudCB0byBkZWZpbmUgbXVsdGlwbGUgZXZlbnRzLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmdbXX0gZXZ0cyBBbiBhcnJheSBvZiBldmVudCBuYW1lcyB0byBkZWZpbmUuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uZGVmaW5lRXZlbnRzID0gZnVuY3Rpb24gZGVmaW5lRXZlbnRzKGV2dHMpIHtcclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZXZ0cy5sZW5ndGg7IGkgKz0gMSkge1xyXG5cdFx0XHR0aGlzLmRlZmluZUV2ZW50KGV2dHNbaV0pO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmVtb3ZlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZyb20gdGhlIHNwZWNpZmllZCBldmVudC5cclxuXHQgKiBXaGVuIHBhc3NlZCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhcyB0aGUgZXZlbnQgbmFtZSwgaXQgd2lsbCByZW1vdmUgdGhlIGxpc3RlbmVyIGZyb20gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIE1ldGhvZCB0byByZW1vdmUgZnJvbSB0aGUgZXZlbnQuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldnQsIGxpc3RlbmVyKSB7XHJcblx0XHR2YXIgbGlzdGVuZXJzID0gdGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChldnQpO1xyXG5cdFx0dmFyIGluZGV4O1xyXG5cdFx0dmFyIGtleTtcclxuXHJcblx0XHRmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcclxuXHRcdFx0aWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpbmRleE9mTGlzdGVuZXIobGlzdGVuZXJzW2tleV0sIGxpc3RlbmVyKTtcclxuXHJcblx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0bGlzdGVuZXJzW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBbGlhcyBvZiByZW1vdmVMaXN0ZW5lclxyXG5cdCAqL1xyXG5cdHByb3RvLm9mZiA9IGFsaWFzKCdyZW1vdmVMaXN0ZW5lcicpO1xyXG5cclxuXHQvKipcclxuXHQgKiBBZGRzIGxpc3RlbmVycyBpbiBidWxrIHVzaW5nIHRoZSBtYW5pcHVsYXRlTGlzdGVuZXJzIG1ldGhvZC5cclxuXHQgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgYWRkZWQuXHJcblx0ICogWW91IGNhbiBhbHNvIHBhc3MgaXQgYSByZWd1bGFyIGV4cHJlc3Npb24gdG8gYWRkIHRoZSBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxyXG5cdCAqIFllYWgsIHRoaXMgZnVuY3Rpb24gZG9lcyBxdWl0ZSBhIGJpdC4gVGhhdCdzIHByb2JhYmx5IGEgYmFkIHRoaW5nLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gZXZ0IEFuIGV2ZW50IG5hbWUgaWYgeW91IHdpbGwgcGFzcyBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgbmV4dC4gQW4gb2JqZWN0IGlmIHlvdSB3aXNoIHRvIGFkZCB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byBhZGQuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gYWRkTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XHJcblx0XHQvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyhmYWxzZSwgZXZ0LCBsaXN0ZW5lcnMpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJlbW92ZXMgbGlzdGVuZXJzIGluIGJ1bGsgdXNpbmcgdGhlIG1hbmlwdWxhdGVMaXN0ZW5lcnMgbWV0aG9kLlxyXG5cdCAqIElmIHlvdSBwYXNzIGFuIG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHlvdSBjYW4gcmVtb3ZlIGZyb20gbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2UuIFRoZSBvYmplY3Qgc2hvdWxkIGNvbnRhaW4ga2V5IHZhbHVlIHBhaXJzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzIG9yIGxpc3RlbmVyIGFycmF5cy5cclxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhbiBldmVudCBuYW1lIGFuZCBhbiBhcnJheSBvZiBsaXN0ZW5lcnMgdG8gYmUgcmVtb3ZlZC5cclxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBpdCBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmcm9tIGFsbCBldmVudHMgdGhhdCBtYXRjaCBpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdHxSZWdFeHB9IGV2dCBBbiBldmVudCBuYW1lIGlmIHlvdSB3aWxsIHBhc3MgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIG5leHQuIEFuIG9iamVjdCBpZiB5b3Ugd2lzaCB0byByZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS5cclxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9uW119IFtsaXN0ZW5lcnNdIEFuIG9wdGlvbmFsIGFycmF5IG9mIGxpc3RlbmVyIGZ1bmN0aW9ucyB0byByZW1vdmUuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8ucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXJzKGV2dCwgbGlzdGVuZXJzKSB7XHJcblx0XHQvLyBQYXNzIHRocm91Z2ggdG8gbWFuaXB1bGF0ZUxpc3RlbmVyc1xyXG5cdFx0cmV0dXJuIHRoaXMubWFuaXB1bGF0ZUxpc3RlbmVycyh0cnVlLCBldnQsIGxpc3RlbmVycyk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRWRpdHMgbGlzdGVuZXJzIGluIGJ1bGsuIFRoZSBhZGRMaXN0ZW5lcnMgYW5kIHJlbW92ZUxpc3RlbmVycyBtZXRob2RzIGJvdGggdXNlIHRoaXMgdG8gZG8gdGhlaXIgam9iLiBZb3Ugc2hvdWxkIHJlYWxseSB1c2UgdGhvc2UgaW5zdGVhZCwgdGhpcyBpcyBhIGxpdHRsZSBsb3dlciBsZXZlbC5cclxuXHQgKiBUaGUgZmlyc3QgYXJndW1lbnQgd2lsbCBkZXRlcm1pbmUgaWYgdGhlIGxpc3RlbmVycyBhcmUgcmVtb3ZlZCAodHJ1ZSkgb3IgYWRkZWQgKGZhbHNlKS5cclxuXHQgKiBJZiB5b3UgcGFzcyBhbiBvYmplY3QgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB5b3UgY2FuIGFkZC9yZW1vdmUgZnJvbSBtdWx0aXBsZSBldmVudHMgYXQgb25jZS4gVGhlIG9iamVjdCBzaG91bGQgY29udGFpbiBrZXkgdmFsdWUgcGFpcnMgb2YgZXZlbnRzIGFuZCBsaXN0ZW5lcnMgb3IgbGlzdGVuZXIgYXJyYXlzLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGFuIGV2ZW50IG5hbWUgYW5kIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0byBiZSBhZGRlZC9yZW1vdmVkLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGl0IGEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hbmlwdWxhdGUgdGhlIGxpc3RlbmVycyBvZiBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IHJlbW92ZSBUcnVlIGlmIHlvdSB3YW50IHRvIHJlbW92ZSBsaXN0ZW5lcnMsIGZhbHNlIGlmIHlvdSB3YW50IHRvIGFkZC5cclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8UmVnRXhwfSBldnQgQW4gZXZlbnQgbmFtZSBpZiB5b3Ugd2lsbCBwYXNzIGFuIGFycmF5IG9mIGxpc3RlbmVycyBuZXh0LiBBbiBvYmplY3QgaWYgeW91IHdpc2ggdG8gYWRkL3JlbW92ZSBmcm9tIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlLlxyXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gW2xpc3RlbmVyc10gQW4gb3B0aW9uYWwgYXJyYXkgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRvIGFkZC9yZW1vdmUuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8ubWFuaXB1bGF0ZUxpc3RlbmVycyA9IGZ1bmN0aW9uIG1hbmlwdWxhdGVMaXN0ZW5lcnMocmVtb3ZlLCBldnQsIGxpc3RlbmVycykge1xyXG5cdFx0dmFyIGk7XHJcblx0XHR2YXIgdmFsdWU7XHJcblx0XHR2YXIgc2luZ2xlID0gcmVtb3ZlID8gdGhpcy5yZW1vdmVMaXN0ZW5lciA6IHRoaXMuYWRkTGlzdGVuZXI7XHJcblx0XHR2YXIgbXVsdGlwbGUgPSByZW1vdmUgPyB0aGlzLnJlbW92ZUxpc3RlbmVycyA6IHRoaXMuYWRkTGlzdGVuZXJzO1xyXG5cclxuXHRcdC8vIElmIGV2dCBpcyBhbiBvYmplY3QgdGhlbiBwYXNzIGVhY2ggb2YgaXQncyBwcm9wZXJ0aWVzIHRvIHRoaXMgbWV0aG9kXHJcblx0XHRpZiAodHlwZW9mIGV2dCA9PT0gJ29iamVjdCcgJiYgIShldnQgaW5zdGFuY2VvZiBSZWdFeHApKSB7XHJcblx0XHRcdGZvciAoaSBpbiBldnQpIHtcclxuXHRcdFx0XHRpZiAoZXZ0Lmhhc093blByb3BlcnR5KGkpICYmICh2YWx1ZSA9IGV2dFtpXSkpIHtcclxuXHRcdFx0XHRcdC8vIFBhc3MgdGhlIHNpbmdsZSBsaXN0ZW5lciBzdHJhaWdodCB0aHJvdWdoIHRvIHRoZSBzaW5ndWxhciBtZXRob2RcclxuXHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0c2luZ2xlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSBwYXNzIGJhY2sgdG8gdGhlIG11bHRpcGxlIGZ1bmN0aW9uXHJcblx0XHRcdFx0XHRcdG11bHRpcGxlLmNhbGwodGhpcywgaSwgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdC8vIFNvIGV2dCBtdXN0IGJlIGEgc3RyaW5nXHJcblx0XHRcdC8vIEFuZCBsaXN0ZW5lcnMgbXVzdCBiZSBhbiBhcnJheSBvZiBsaXN0ZW5lcnNcclxuXHRcdFx0Ly8gTG9vcCBvdmVyIGl0IGFuZCBwYXNzIGVhY2ggb25lIHRvIHRoZSBtdWx0aXBsZSBtZXRob2RcclxuXHRcdFx0aSA9IGxpc3RlbmVycy5sZW5ndGg7XHJcblx0XHRcdHdoaWxlIChpLS0pIHtcclxuXHRcdFx0XHRzaW5nbGUuY2FsbCh0aGlzLCBldnQsIGxpc3RlbmVyc1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgZnJvbSBhIHNwZWNpZmllZCBldmVudC5cclxuXHQgKiBJZiB5b3UgZG8gbm90IHNwZWNpZnkgYW4gZXZlbnQgdGhlbiBhbGwgbGlzdGVuZXJzIHdpbGwgYmUgcmVtb3ZlZC5cclxuXHQgKiBUaGF0IG1lYW5zIGV2ZXJ5IGV2ZW50IHdpbGwgYmUgZW1wdGllZC5cclxuXHQgKiBZb3UgY2FuIGFsc28gcGFzcyBhIHJlZ2V4IHRvIHJlbW92ZSBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IFtldnRdIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHJlbW92ZSBhbGwgbGlzdGVuZXJzIGZvci4gV2lsbCByZW1vdmUgZnJvbSBldmVyeSBldmVudCBpZiBub3QgcGFzc2VkLlxyXG5cdCAqIEByZXR1cm4ge09iamVjdH0gQ3VycmVudCBpbnN0YW5jZSBvZiBFdmVudEVtaXR0ZXIgZm9yIGNoYWluaW5nLlxyXG5cdCAqL1xyXG5cdHByb3RvLnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZXZ0KSB7XHJcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiBldnQ7XHJcblx0XHR2YXIgZXZlbnRzID0gdGhpcy5fZ2V0RXZlbnRzKCk7XHJcblx0XHR2YXIga2V5O1xyXG5cclxuXHRcdC8vIFJlbW92ZSBkaWZmZXJlbnQgdGhpbmdzIGRlcGVuZGluZyBvbiB0aGUgc3RhdGUgb2YgZXZ0XHJcblx0XHRpZiAodHlwZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnRcclxuXHRcdFx0ZGVsZXRlIGV2ZW50c1tldnRdO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcclxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBldmVudHMgbWF0Y2hpbmcgdGhlIHJlZ2V4LlxyXG5cdFx0XHRmb3IgKGtleSBpbiBldmVudHMpIHtcclxuXHRcdFx0XHRpZiAoZXZlbnRzLmhhc093blByb3BlcnR5KGtleSkgJiYgZXZ0LnRlc3Qoa2V5KSkge1xyXG5cdFx0XHRcdFx0ZGVsZXRlIGV2ZW50c1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGluIGFsbCBldmVudHNcclxuXHRcdFx0ZGVsZXRlIHRoaXMuX2V2ZW50cztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBbGlhcyBvZiByZW1vdmVFdmVudC5cclxuXHQgKlxyXG5cdCAqIEFkZGVkIHRvIG1pcnJvciB0aGUgbm9kZSBBUEkuXHJcblx0ICovXHJcblx0cHJvdG8ucmVtb3ZlQWxsTGlzdGVuZXJzID0gYWxpYXMoJ3JlbW92ZUV2ZW50Jyk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEVtaXRzIGFuIGV2ZW50IG9mIHlvdXIgY2hvaWNlLlxyXG5cdCAqIFdoZW4gZW1pdHRlZCwgZXZlcnkgbGlzdGVuZXIgYXR0YWNoZWQgdG8gdGhhdCBldmVudCB3aWxsIGJlIGV4ZWN1dGVkLlxyXG5cdCAqIElmIHlvdSBwYXNzIHRoZSBvcHRpb25hbCBhcmd1bWVudCBhcnJheSB0aGVuIHRob3NlIGFyZ3VtZW50cyB3aWxsIGJlIHBhc3NlZCB0byBldmVyeSBsaXN0ZW5lciB1cG9uIGV4ZWN1dGlvbi5cclxuXHQgKiBCZWNhdXNlIGl0IHVzZXMgYGFwcGx5YCwgeW91ciBhcnJheSBvZiBhcmd1bWVudHMgd2lsbCBiZSBwYXNzZWQgYXMgaWYgeW91IHdyb3RlIHRoZW0gb3V0IHNlcGFyYXRlbHkuXHJcblx0ICogU28gdGhleSB3aWxsIG5vdCBhcnJpdmUgd2l0aGluIHRoZSBhcnJheSBvbiB0aGUgb3RoZXIgc2lkZSwgdGhleSB3aWxsIGJlIHNlcGFyYXRlLlxyXG5cdCAqIFlvdSBjYW4gYWxzbyBwYXNzIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGVtaXQgdG8gYWxsIGV2ZW50cyB0aGF0IG1hdGNoIGl0LlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtTdHJpbmd8UmVnRXhwfSBldnQgTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdCBhbmQgZXhlY3V0ZSBsaXN0ZW5lcnMgZm9yLlxyXG5cdCAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXSBPcHRpb25hbCBhcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggbGlzdGVuZXIuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24gZW1pdEV2ZW50KGV2dCwgYXJncykge1xyXG5cdFx0dmFyIGxpc3RlbmVycyA9IHRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZXZ0KTtcclxuXHRcdHZhciBsaXN0ZW5lcjtcclxuXHRcdHZhciBpO1xyXG5cdFx0dmFyIGtleTtcclxuXHRcdHZhciByZXNwb25zZTtcclxuXHJcblx0XHRmb3IgKGtleSBpbiBsaXN0ZW5lcnMpIHtcclxuXHRcdFx0aWYgKGxpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0aSA9IGxpc3RlbmVyc1trZXldLmxlbmd0aDtcclxuXHJcblx0XHRcdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRcdFx0Ly8gSWYgdGhlIGxpc3RlbmVyIHJldHVybnMgdHJ1ZSB0aGVuIGl0IHNoYWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZXZlbnRcclxuXHRcdFx0XHRcdC8vIFRoZSBmdW5jdGlvbiBpcyBleGVjdXRlZCBlaXRoZXIgd2l0aCBhIGJhc2ljIGNhbGwgb3IgYW4gYXBwbHkgaWYgdGhlcmUgaXMgYW4gYXJncyBhcnJheVxyXG5cdFx0XHRcdFx0bGlzdGVuZXIgPSBsaXN0ZW5lcnNba2V5XVtpXTtcclxuXHJcblx0XHRcdFx0XHRpZiAobGlzdGVuZXIub25jZSA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJlc3BvbnNlID0gbGlzdGVuZXIubGlzdGVuZXIuYXBwbHkodGhpcywgYXJncyB8fCBbXSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHJlc3BvbnNlID09PSB0aGlzLl9nZXRPbmNlUmV0dXJuVmFsdWUoKSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUxpc3RlbmVyKGV2dCwgbGlzdGVuZXIubGlzdGVuZXIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFsaWFzIG9mIGVtaXRFdmVudFxyXG5cdCAqL1xyXG5cdHByb3RvLnRyaWdnZXIgPSBhbGlhcygnZW1pdEV2ZW50Jyk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN1YnRseSBkaWZmZXJlbnQgZnJvbSBlbWl0RXZlbnQgaW4gdGhhdCBpdCB3aWxsIHBhc3MgaXRzIGFyZ3VtZW50cyBvbiB0byB0aGUgbGlzdGVuZXJzLCBhcyBvcHBvc2VkIHRvIHRha2luZyBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMgdG8gcGFzcyBvbi5cclxuXHQgKiBBcyB3aXRoIGVtaXRFdmVudCwgeW91IGNhbiBwYXNzIGEgcmVnZXggaW4gcGxhY2Ugb2YgdGhlIGV2ZW50IG5hbWUgdG8gZW1pdCB0byBhbGwgZXZlbnRzIHRoYXQgbWF0Y2ggaXQuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IGV2dCBOYW1lIG9mIHRoZSBldmVudCB0byBlbWl0IGFuZCBleGVjdXRlIGxpc3RlbmVycyBmb3IuXHJcblx0ICogQHBhcmFtIHsuLi4qfSBPcHRpb25hbCBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gZWFjaCBsaXN0ZW5lci5cclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IEN1cnJlbnQgaW5zdGFuY2Ugb2YgRXZlbnRFbWl0dGVyIGZvciBjaGFpbmluZy5cclxuXHQgKi9cclxuXHRwcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChldnQpIHtcclxuXHRcdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHRcdHJldHVybiB0aGlzLmVtaXRFdmVudChldnQsIGFyZ3MpO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldHMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmIGFcclxuXHQgKiBsaXN0ZW5lcnMgcmV0dXJuIHZhbHVlIG1hdGNoZXMgdGhlIG9uZSBzZXQgaGVyZSB0aGVuIGl0IHdpbGwgYmUgcmVtb3ZlZFxyXG5cdCAqIGFmdGVyIGV4ZWN1dGlvbi4gVGhpcyB2YWx1ZSBkZWZhdWx0cyB0byB0cnVlLlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgbmV3IHZhbHVlIHRvIGNoZWNrIGZvciB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuXHJcblx0ICogQHJldHVybiB7T2JqZWN0fSBDdXJyZW50IGluc3RhbmNlIG9mIEV2ZW50RW1pdHRlciBmb3IgY2hhaW5pbmcuXHJcblx0ICovXHJcblx0cHJvdG8uc2V0T25jZVJldHVyblZhbHVlID0gZnVuY3Rpb24gc2V0T25jZVJldHVyblZhbHVlKHZhbHVlKSB7XHJcblx0XHR0aGlzLl9vbmNlUmV0dXJuVmFsdWUgPSB2YWx1ZTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZldGNoZXMgdGhlIGN1cnJlbnQgdmFsdWUgdG8gY2hlY2sgYWdhaW5zdCB3aGVuIGV4ZWN1dGluZyBsaXN0ZW5lcnMuIElmXHJcblx0ICogdGhlIGxpc3RlbmVycyByZXR1cm4gdmFsdWUgbWF0Y2hlcyB0aGlzIG9uZSB0aGVuIGl0IHNob3VsZCBiZSByZW1vdmVkXHJcblx0ICogYXV0b21hdGljYWxseS4gSXQgd2lsbCByZXR1cm4gdHJ1ZSBieSBkZWZhdWx0LlxyXG5cdCAqXHJcblx0ICogQHJldHVybiB7KnxCb29sZWFufSBUaGUgY3VycmVudCB2YWx1ZSB0byBjaGVjayBmb3Igb3IgdGhlIGRlZmF1bHQsIHRydWUuXHJcblx0ICogQGFwaSBwcml2YXRlXHJcblx0ICovXHJcblx0cHJvdG8uX2dldE9uY2VSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uIF9nZXRPbmNlUmV0dXJuVmFsdWUoKSB7XHJcblx0XHRpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eSgnX29uY2VSZXR1cm5WYWx1ZScpKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9vbmNlUmV0dXJuVmFsdWU7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogRmV0Y2hlcyB0aGUgZXZlbnRzIG9iamVjdCBhbmQgY3JlYXRlcyBvbmUgaWYgcmVxdWlyZWQuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBldmVudHMgc3RvcmFnZSBvYmplY3QuXHJcblx0ICogQGFwaSBwcml2YXRlXHJcblx0ICovXHJcblx0cHJvdG8uX2dldEV2ZW50cyA9IGZ1bmN0aW9uIF9nZXRFdmVudHMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZXZlbnRzIHx8ICh0aGlzLl9ldmVudHMgPSB7fSk7XHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogUmV2ZXJ0cyB0aGUgZ2xvYmFsIHtAbGluayBFdmVudEVtaXR0ZXJ9IHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGlzIHZlcnNpb24uXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHtGdW5jdGlvbn0gTm9uIGNvbmZsaWN0aW5nIEV2ZW50RW1pdHRlciBjbGFzcy5cclxuXHQgKi9cclxuXHRFdmVudEVtaXR0ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XHJcblx0XHRleHBvcnRzLkV2ZW50RW1pdHRlciA9IG9yaWdpbmFsR2xvYmFsVmFsdWU7XHJcblx0XHRyZXR1cm4gRXZlbnRFbWl0dGVyO1xyXG5cdH07XHJcblxyXG5cdC8vIEV4cG9zZSB0aGUgY2xhc3MgZWl0aGVyIHZpYSBBTUQsIENvbW1vbkpTIG9yIHRoZSBnbG9iYWwgb2JqZWN0XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKCdldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyJyxbXSxmdW5jdGlvbiAoKSB7XHJcblx0XHRcdHJldHVybiBFdmVudEVtaXR0ZXI7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0ZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpe1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XHJcblx0fVxyXG5cdGVsc2Uge1xyXG5cdFx0dGhpcy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XHJcblx0fVxyXG59LmNhbGwodGhpcykpO1xyXG5cclxuLyohXHJcbiAqIGV2ZW50aWUgdjEuMC40XHJcbiAqIGV2ZW50IGJpbmRpbmcgaGVscGVyXHJcbiAqICAgZXZlbnRpZS5iaW5kKCBlbGVtLCAnY2xpY2snLCBteUZuIClcclxuICogICBldmVudGllLnVuYmluZCggZWxlbSwgJ2NsaWNrJywgbXlGbiApXHJcbiAqL1xyXG5cclxuLypqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgdW5kZWY6IHRydWUsIHVudXNlZDogdHJ1ZSAqL1xyXG4vKmdsb2JhbCBkZWZpbmU6IGZhbHNlICovXHJcblxyXG4oIGZ1bmN0aW9uKCB3aW5kb3cgKSB7XHJcblxyXG5cclxuXHJcbnZhciBkb2NFbGVtID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxudmFyIGJpbmQgPSBmdW5jdGlvbigpIHt9O1xyXG5cclxuZnVuY3Rpb24gZ2V0SUVFdmVudCggb2JqICkge1xyXG4gIHZhciBldmVudCA9IHdpbmRvdy5ldmVudDtcclxuICAvLyBhZGQgZXZlbnQudGFyZ2V0XHJcbiAgZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgb2JqO1xyXG4gIHJldHVybiBldmVudDtcclxufVxyXG5cclxuaWYgKCBkb2NFbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XHJcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xyXG4gICAgb2JqLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xyXG4gIH07XHJcbn0gZWxzZSBpZiAoIGRvY0VsZW0uYXR0YWNoRXZlbnQgKSB7XHJcbiAgYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xyXG4gICAgb2JqWyB0eXBlICsgZm4gXSA9IGZuLmhhbmRsZUV2ZW50ID9cclxuICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gZ2V0SUVFdmVudCggb2JqICk7XHJcbiAgICAgICAgZm4uaGFuZGxlRXZlbnQuY2FsbCggZm4sIGV2ZW50ICk7XHJcbiAgICAgIH0gOlxyXG4gICAgICBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZXZlbnQgPSBnZXRJRUV2ZW50KCBvYmogKTtcclxuICAgICAgICBmbi5jYWxsKCBvYmosIGV2ZW50ICk7XHJcbiAgICAgIH07XHJcbiAgICBvYmouYXR0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcclxuICB9O1xyXG59XHJcblxyXG52YXIgdW5iaW5kID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcbmlmICggZG9jRWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xyXG4gIHVuYmluZCA9IGZ1bmN0aW9uKCBvYmosIHR5cGUsIGZuICkge1xyXG4gICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGZuLCBmYWxzZSApO1xyXG4gIH07XHJcbn0gZWxzZSBpZiAoIGRvY0VsZW0uZGV0YWNoRXZlbnQgKSB7XHJcbiAgdW5iaW5kID0gZnVuY3Rpb24oIG9iaiwgdHlwZSwgZm4gKSB7XHJcbiAgICBvYmouZGV0YWNoRXZlbnQoIFwib25cIiArIHR5cGUsIG9ialsgdHlwZSArIGZuIF0gKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGRlbGV0ZSBvYmpbIHR5cGUgKyBmbiBdO1xyXG4gICAgfSBjYXRjaCAoIGVyciApIHtcclxuICAgICAgLy8gY2FuJ3QgZGVsZXRlIHdpbmRvdyBvYmplY3QgcHJvcGVydGllc1xyXG4gICAgICBvYmpbIHR5cGUgKyBmbiBdID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbnZhciBldmVudGllID0ge1xyXG4gIGJpbmQ6IGJpbmQsXHJcbiAgdW5iaW5kOiB1bmJpbmRcclxufTtcclxuXHJcbi8vIHRyYW5zcG9ydFxyXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAvLyBBTURcclxuICBkZWZpbmUoICdldmVudGllL2V2ZW50aWUnLGV2ZW50aWUgKTtcclxufSBlbHNlIHtcclxuICAvLyBicm93c2VyIGdsb2JhbFxyXG4gIHdpbmRvdy5ldmVudGllID0gZXZlbnRpZTtcclxufVxyXG5cclxufSkoIHRoaXMgKTtcclxuXHJcbi8qIVxyXG4gKiBpbWFnZXNMb2FkZWQgdjMuMi4wXHJcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXHJcbiAqIE1JVCBMaWNlbnNlXHJcbiAqL1xyXG5cclxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkgeyAndXNlIHN0cmljdCc7XHJcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXHJcblxyXG4gIC8qZ2xvYmFsIGRlZmluZTogZmFsc2UsIG1vZHVsZTogZmFsc2UsIHJlcXVpcmU6IGZhbHNlICovXHJcblxyXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XHJcbiAgICAvLyBBTURcclxuICAgIGRlZmluZSggW1xyXG4gICAgICAnZXZlbnRFbWl0dGVyL0V2ZW50RW1pdHRlcicsXHJcbiAgICAgICdldmVudGllL2V2ZW50aWUnXHJcbiAgICBdLCBmdW5jdGlvbiggRXZlbnRFbWl0dGVyLCBldmVudGllICkge1xyXG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XHJcbiAgICAvLyBDb21tb25KU1xyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KFxyXG4gICAgICB3aW5kb3csXHJcbiAgICAgIHJlcXVpcmUoJ3dvbGZ5ODctZXZlbnRlbWl0dGVyJyksXHJcbiAgICAgIHJlcXVpcmUoJ2V2ZW50aWUnKVxyXG4gICAgKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gYnJvd3NlciBnbG9iYWxcclxuICAgIHdpbmRvdy5pbWFnZXNMb2FkZWQgPSBmYWN0b3J5KFxyXG4gICAgICB3aW5kb3csXHJcbiAgICAgIHdpbmRvdy5FdmVudEVtaXR0ZXIsXHJcbiAgICAgIHdpbmRvdy5ldmVudGllXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbn0pKCB3aW5kb3csXHJcblxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgZmFjdG9yeSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuZnVuY3Rpb24gZmFjdG9yeSggd2luZG93LCBFdmVudEVtaXR0ZXIsIGV2ZW50aWUgKSB7XHJcblxyXG5cclxuXHJcbnZhciAkID0gd2luZG93LmpRdWVyeTtcclxudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcclxuXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbi8vIGV4dGVuZCBvYmplY3RzXHJcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcclxuICBmb3IgKCB2YXIgcHJvcCBpbiBiICkge1xyXG4gICAgYVsgcHJvcCBdID0gYlsgcHJvcCBdO1xyXG4gIH1cclxuICByZXR1cm4gYTtcclxufVxyXG5cclxudmFyIG9ialRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcclxuZnVuY3Rpb24gaXNBcnJheSggb2JqICkge1xyXG4gIHJldHVybiBvYmpUb1N0cmluZy5jYWxsKCBvYmogKSA9PSAnW29iamVjdCBBcnJheV0nO1xyXG59XHJcblxyXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxyXG5mdW5jdGlvbiBtYWtlQXJyYXkoIG9iaiApIHtcclxuICB2YXIgYXJ5ID0gW107XHJcbiAgaWYgKCBpc0FycmF5KCBvYmogKSApIHtcclxuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxyXG4gICAgYXJ5ID0gb2JqO1xyXG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInICkge1xyXG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxyXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IG9iai5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJ5LnB1c2goIG9ialtpXSApO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBhcnJheSBvZiBzaW5nbGUgaW5kZXhcclxuICAgIGFyeS5wdXNoKCBvYmogKTtcclxuICB9XHJcbiAgcmV0dXJuIGFyeTtcclxufVxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtBcnJheSwgRWxlbWVudCwgTm9kZUxpc3QsIFN0cmluZ30gZWxlbVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0IG9yIEZ1bmN0aW9ufSBvcHRpb25zIC0gaWYgZnVuY3Rpb24sIHVzZSBhcyBjYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgKi9cclxuICBmdW5jdGlvbiBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICkge1xyXG4gICAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcclxuICAgIGlmICggISggdGhpcyBpbnN0YW5jZW9mIEltYWdlc0xvYWRlZCApICkge1xyXG4gICAgICByZXR1cm4gbmV3IEltYWdlc0xvYWRlZCggZWxlbSwgb3B0aW9ucywgb25BbHdheXMgKTtcclxuICAgIH1cclxuICAgIC8vIHVzZSBlbGVtIGFzIHNlbGVjdG9yIHN0cmluZ1xyXG4gICAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcclxuICAgICAgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVsZW1lbnRzID0gbWFrZUFycmF5KCBlbGVtICk7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBleHRlbmQoIHt9LCB0aGlzLm9wdGlvbnMgKTtcclxuXHJcbiAgICBpZiAoIHR5cGVvZiBvcHRpb25zID09ICdmdW5jdGlvbicgKSB7XHJcbiAgICAgIG9uQWx3YXlzID0gb3B0aW9ucztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGV4dGVuZCggdGhpcy5vcHRpb25zLCBvcHRpb25zICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBvbkFsd2F5cyApIHtcclxuICAgICAgdGhpcy5vbiggJ2Fsd2F5cycsIG9uQWx3YXlzICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRJbWFnZXMoKTtcclxuXHJcbiAgICBpZiAoICQgKSB7XHJcbiAgICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XHJcbiAgICAgIHRoaXMuanFEZWZlcnJlZCA9IG5ldyAkLkRlZmVycmVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSEFDSyBjaGVjayBhc3luYyB0byBhbGxvdyB0aW1lIHRvIGJpbmQgbGlzdGVuZXJzXHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgIF90aGlzLmNoZWNrKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUub3B0aW9ucyA9IHt9O1xyXG5cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmdldEltYWdlcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pbWFnZXMgPSBbXTtcclxuXHJcbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxyXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIHZhciBlbGVtID0gdGhpcy5lbGVtZW50c1tpXTtcclxuICAgICAgdGhpcy5hZGRFbGVtZW50SW1hZ2VzKCBlbGVtICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtOb2RlfSBlbGVtZW50XHJcbiAgICovXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcbiAgICAvLyBmaWx0ZXIgc2libGluZ3NcclxuICAgIGlmICggZWxlbS5ub2RlTmFtZSA9PSAnSU1HJyApIHtcclxuICAgICAgdGhpcy5hZGRJbWFnZSggZWxlbSApO1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0IGJhY2tncm91bmQgaW1hZ2Ugb24gZWxlbWVudFxyXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PT0gdHJ1ZSApIHtcclxuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggZWxlbSApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZpbmQgY2hpbGRyZW5cclxuICAgIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXHJcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xyXG4gICAgaWYgKCAhbm9kZVR5cGUgfHwgIWVsZW1lbnROb2RlVHlwZXNbIG5vZGVUeXBlIF0gKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBjaGlsZEltZ3MgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xyXG4gICAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcclxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBjaGlsZEltZ3MubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIHZhciBpbWcgPSBjaGlsZEltZ3NbaV07XHJcbiAgICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldCBjaGlsZCBiYWNrZ3JvdW5kIGltYWdlc1xyXG4gICAgaWYgKCB0eXBlb2YgdGhpcy5vcHRpb25zLmJhY2tncm91bmQgPT0gJ3N0cmluZycgKSB7XHJcbiAgICAgIHZhciBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcclxuICAgICAgZm9yICggaT0wOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHZhciBlbGVtZW50Tm9kZVR5cGVzID0ge1xyXG4gICAgMTogdHJ1ZSxcclxuICAgIDk6IHRydWUsXHJcbiAgICAxMTogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgIHZhciBzdHlsZSA9IGdldFN0eWxlKCBlbGVtICk7XHJcbiAgICAvLyBnZXQgdXJsIGluc2lkZSB1cmwoXCIuLi5cIilcclxuICAgIHZhciByZVVSTCA9IC91cmxcXChbJ1wiXSooW14nXCJcXCldKylbJ1wiXSpcXCkvZ2k7XHJcbiAgICB2YXIgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xyXG4gICAgd2hpbGUgKCBtYXRjaGVzICE9PSBudWxsICkge1xyXG4gICAgICB2YXIgdXJsID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzFdO1xyXG4gICAgICBpZiAoIHVybCApIHtcclxuICAgICAgICB0aGlzLmFkZEJhY2tncm91bmQoIHVybCwgZWxlbSApO1xyXG4gICAgICB9XHJcbiAgICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBJRThcclxuICB2YXIgZ2V0U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSB8fCBmdW5jdGlvbiggZWxlbSApIHtcclxuICAgIHJldHVybiBlbGVtLmN1cnJlbnRTdHlsZTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ltYWdlfSBpbWdcclxuICAgKi9cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24oIGltZyApIHtcclxuICAgIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcclxuICAgIHRoaXMuaW1hZ2VzLnB1c2goIGxvYWRpbmdJbWFnZSApO1xyXG4gIH07XHJcblxyXG4gIEltYWdlc0xvYWRlZC5wcm90b3R5cGUuYWRkQmFja2dyb3VuZCA9IGZ1bmN0aW9uKCB1cmwsIGVsZW0gKSB7XHJcbiAgICB2YXIgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcclxuICAgIHRoaXMuaW1hZ2VzLnB1c2goIGJhY2tncm91bmQgKTtcclxuICB9O1xyXG5cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgdGhpcy5wcm9ncmVzc2VkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTtcclxuICAgIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xyXG4gICAgaWYgKCAhdGhpcy5pbWFnZXMubGVuZ3RoICkge1xyXG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblByb2dyZXNzKCBpbWFnZSwgZWxlbSwgbWVzc2FnZSApIHtcclxuICAgICAgLy8gSEFDSyAtIENocm9tZSB0cmlnZ2VycyBldmVudCBiZWZvcmUgb2JqZWN0IHByb3BlcnRpZXMgaGF2ZSBjaGFuZ2VkLiAjODNcclxuICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX3RoaXMucHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAoIHZhciBpPTA7IGkgPCB0aGlzLmltYWdlcy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgdmFyIGxvYWRpbmdJbWFnZSA9IHRoaXMuaW1hZ2VzW2ldO1xyXG4gICAgICBsb2FkaW5nSW1hZ2Uub25jZSggJ3Byb2dyZXNzJywgb25Qcm9ncmVzcyApO1xyXG4gICAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBJbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xyXG4gICAgdGhpcy5wcm9ncmVzc2VkQ291bnQrKztcclxuICAgIHRoaXMuaGFzQW55QnJva2VuID0gdGhpcy5oYXNBbnlCcm9rZW4gfHwgIWltYWdlLmlzTG9hZGVkO1xyXG4gICAgLy8gcHJvZ3Jlc3MgZXZlbnRcclxuICAgIHRoaXMuZW1pdCggJ3Byb2dyZXNzJywgdGhpcywgaW1hZ2UsIGVsZW0gKTtcclxuICAgIGlmICggdGhpcy5qcURlZmVycmVkICYmIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkgKSB7XHJcbiAgICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XHJcbiAgICB9XHJcbiAgICAvLyBjaGVjayBpZiBjb21wbGV0ZWRcclxuICAgIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoICkge1xyXG4gICAgICB0aGlzLmNvbXBsZXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLm9wdGlvbnMuZGVidWcgJiYgY29uc29sZSApIHtcclxuICAgICAgY29uc29sZS5sb2coICdwcm9ncmVzczogJyArIG1lc3NhZ2UsIGltYWdlLCBlbGVtICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGV2ZW50TmFtZSA9IHRoaXMuaGFzQW55QnJva2VuID8gJ2ZhaWwnIDogJ2RvbmUnO1xyXG4gICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcclxuICAgIHRoaXMuZW1pdCggZXZlbnROYW1lLCB0aGlzICk7XHJcbiAgICB0aGlzLmVtaXQoICdhbHdheXMnLCB0aGlzICk7XHJcbiAgICBpZiAoIHRoaXMuanFEZWZlcnJlZCApIHtcclxuICAgICAgdmFyIGpxTWV0aG9kID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAncmVqZWN0JyA6ICdyZXNvbHZlJztcclxuICAgICAgdGhpcy5qcURlZmVycmVkWyBqcU1ldGhvZCBdKCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG4gIGZ1bmN0aW9uIExvYWRpbmdJbWFnZSggaW1nICkge1xyXG4gICAgdGhpcy5pbWcgPSBpbWc7XHJcbiAgfVxyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBJZiBjb21wbGV0ZSBpcyB0cnVlIGFuZCBicm93c2VyIHN1cHBvcnRzIG5hdHVyYWwgc2l6ZXMsXHJcbiAgICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cclxuICAgIHZhciBpc0NvbXBsZXRlID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTtcclxuICAgIGlmICggaXNDb21wbGV0ZSApIHtcclxuICAgICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxyXG4gICAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXHJcbiAgICB0aGlzLnByb3h5SW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGV2ZW50aWUuYmluZCggdGhpcy5wcm94eUltYWdlLCAnbG9hZCcsIHRoaXMgKTtcclxuICAgIGV2ZW50aWUuYmluZCggdGhpcy5wcm94eUltYWdlLCAnZXJyb3InLCB0aGlzICk7XHJcbiAgICAvLyBiaW5kIHRvIGltYWdlIGFzIHdlbGwgZm9yIEZpcmVmb3guICMxOTFcclxuICAgIGV2ZW50aWUuYmluZCggdGhpcy5pbWcsICdsb2FkJywgdGhpcyApO1xyXG4gICAgZXZlbnRpZS5iaW5kKCB0aGlzLmltZywgJ2Vycm9yJywgdGhpcyApO1xyXG4gICAgdGhpcy5wcm94eUltYWdlLnNyYyA9IHRoaXMuaW1nLnNyYztcclxuICB9O1xyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLmdldElzSW1hZ2VDb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW1nLmNvbXBsZXRlICYmIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gdW5kZWZpbmVkO1xyXG4gIH07XHJcblxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuY29uZmlybSA9IGZ1bmN0aW9uKCBpc0xvYWRlZCwgbWVzc2FnZSApIHtcclxuICAgIHRoaXMuaXNMb2FkZWQgPSBpc0xvYWRlZDtcclxuICAgIHRoaXMuZW1pdCggJ3Byb2dyZXNzJywgdGhpcywgdGhpcy5pbWcsIG1lc3NhZ2UgKTtcclxuICB9O1xyXG5cclxuICAvLyAtLS0tLSBldmVudHMgLS0tLS0gLy9cclxuXHJcbiAgLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxyXG4gIExvYWRpbmdJbWFnZS5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbiAgICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XHJcbiAgICBpZiAoIHRoaXNbIG1ldGhvZCBdICkge1xyXG4gICAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb25maXJtKCB0cnVlLCAnb25sb2FkJyApO1xyXG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcclxuICB9O1xyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuY29uZmlybSggZmFsc2UsICdvbmVycm9yJyApO1xyXG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcclxuICB9O1xyXG5cclxuICBMb2FkaW5nSW1hZ2UucHJvdG90eXBlLnVuYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMucHJveHlJbWFnZSwgJ2xvYWQnLCB0aGlzICk7XHJcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5wcm94eUltYWdlLCAnZXJyb3InLCB0aGlzICk7XHJcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5pbWcsICdsb2FkJywgdGhpcyApO1xyXG4gICAgZXZlbnRpZS51bmJpbmQoIHRoaXMuaW1nLCAnZXJyb3InLCB0aGlzICk7XHJcbiAgfTtcclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQmFja2dyb3VuZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICBmdW5jdGlvbiBCYWNrZ3JvdW5kKCB1cmwsIGVsZW1lbnQgKSB7XHJcbiAgICB0aGlzLnVybCA9IHVybDtcclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICB0aGlzLmltZyA9IG5ldyBJbWFnZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gaW5oZXJpdCBMb2FkaW5nSW1hZ2UgcHJvdG90eXBlXHJcbiAgQmFja2dyb3VuZC5wcm90b3R5cGUgPSBuZXcgTG9hZGluZ0ltYWdlKCk7XHJcblxyXG4gIEJhY2tncm91bmQucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBldmVudGllLmJpbmQoIHRoaXMuaW1nLCAnbG9hZCcsIHRoaXMgKTtcclxuICAgIGV2ZW50aWUuYmluZCggdGhpcy5pbWcsICdlcnJvcicsIHRoaXMgKTtcclxuICAgIHRoaXMuaW1nLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgLy8gY2hlY2sgaWYgaW1hZ2UgaXMgYWxyZWFkeSBjb21wbGV0ZVxyXG4gICAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xyXG4gICAgaWYgKCBpc0NvbXBsZXRlICkge1xyXG4gICAgICB0aGlzLmNvbmZpcm0oIHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgJ25hdHVyYWxXaWR0aCcgKTtcclxuICAgICAgdGhpcy51bmJpbmRFdmVudHMoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBCYWNrZ3JvdW5kLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgIGV2ZW50aWUudW5iaW5kKCB0aGlzLmltZywgJ2xvYWQnLCB0aGlzICk7XHJcbiAgICBldmVudGllLnVuYmluZCggdGhpcy5pbWcsICdlcnJvcicsIHRoaXMgKTtcclxuICB9O1xyXG5cclxuICBCYWNrZ3JvdW5kLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xyXG4gICAgdGhpcy5pc0xvYWRlZCA9IGlzTG9hZGVkO1xyXG4gICAgdGhpcy5lbWl0KCAncHJvZ3Jlc3MnLCB0aGlzLCB0aGlzLmVsZW1lbnQsIG1lc3NhZ2UgKTtcclxuICB9O1xyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcbiAgSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4gPSBmdW5jdGlvbiggalF1ZXJ5ICkge1xyXG4gICAgalF1ZXJ5ID0galF1ZXJ5IHx8IHdpbmRvdy5qUXVlcnk7XHJcbiAgICBpZiAoICFqUXVlcnkgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHNldCBsb2NhbCB2YXJpYWJsZVxyXG4gICAgJCA9IGpRdWVyeTtcclxuICAgIC8vICQoKS5pbWFnZXNMb2FkZWQoKVxyXG4gICAgJC5mbi5pbWFnZXNMb2FkZWQgPSBmdW5jdGlvbiggb3B0aW9ucywgY2FsbGJhY2sgKSB7XHJcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XHJcbiAgICAgIHJldHVybiBpbnN0YW5jZS5qcURlZmVycmVkLnByb21pc2UoICQodGhpcykgKTtcclxuICAgIH07XHJcbiAgfTtcclxuICAvLyB0cnkgbWFraW5nIHBsdWdpblxyXG4gIEltYWdlc0xvYWRlZC5tYWtlSlF1ZXJ5UGx1Z2luKCk7XHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICByZXR1cm4gSW1hZ2VzTG9hZGVkO1xyXG5cclxufSk7XHJcblxyXG4iLCIvKipcclxuICogQnhTbGlkZXIgdjQuMS4yIC0gRnVsbHkgbG9hZGVkLCByZXNwb25zaXZlIGNvbnRlbnQgc2xpZGVyXHJcbiAqIGh0dHA6Ly9ieHNsaWRlci5jb21cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQsIFN0ZXZlbiBXYW5kZXJza2kgLSBodHRwOi8vc3RldmVud2FuZGVyc2tpLmNvbSAtIGh0dHA6Ly9ieGNyZWF0aXZlLmNvbVxyXG4gKiBXcml0dGVuIHdoaWxlIGRyaW5raW5nIEJlbGdpYW4gYWxlcyBhbmQgbGlzdGVuaW5nIHRvIGphenpcclxuICpcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIC0gaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24oJCl7XHJcblxyXG5cdHZhciBwbHVnaW4gPSB7fTtcclxuXHJcblx0dmFyIGRlZmF1bHRzID0ge1xyXG5cclxuXHRcdC8vIEdFTkVSQUxcclxuXHRcdG1vZGU6ICdob3Jpem9udGFsJyxcclxuXHRcdHNsaWRlU2VsZWN0b3I6ICcnLFxyXG5cdFx0aW5maW5pdGVMb29wOiB0cnVlLFxyXG5cdFx0aGlkZUNvbnRyb2xPbkVuZDogZmFsc2UsXHJcblx0XHRzcGVlZDogNTAwLFxyXG5cdFx0ZWFzaW5nOiBudWxsLFxyXG5cdFx0c2xpZGVNYXJnaW46IDAsXHJcblx0XHRzdGFydFNsaWRlOiAwLFxyXG5cdFx0cmFuZG9tU3RhcnQ6IGZhbHNlLFxyXG5cdFx0Y2FwdGlvbnM6IGZhbHNlLFxyXG5cdFx0dGlja2VyOiBmYWxzZSxcclxuXHRcdHRpY2tlckhvdmVyOiBmYWxzZSxcclxuXHRcdGFkYXB0aXZlSGVpZ2h0OiBmYWxzZSxcclxuXHRcdGFkYXB0aXZlSGVpZ2h0U3BlZWQ6IDUwMCxcclxuXHRcdHZpZGVvOiBmYWxzZSxcclxuXHRcdHVzZUNTUzogdHJ1ZSxcclxuXHRcdHByZWxvYWRJbWFnZXM6ICd2aXNpYmxlJyxcclxuXHRcdHJlc3BvbnNpdmU6IHRydWUsXHJcblx0XHRzbGlkZVpJbmRleDogNTAsXHJcblx0XHR3cmFwcGVyQ2xhc3M6ICdieC13cmFwcGVyJyxcclxuXHJcblx0XHQvLyBUT1VDSFxyXG5cdFx0dG91Y2hFbmFibGVkOiB0cnVlLFxyXG5cdFx0c3dpcGVUaHJlc2hvbGQ6IDUwLFxyXG5cdFx0b25lVG9PbmVUb3VjaDogdHJ1ZSxcclxuXHRcdHByZXZlbnREZWZhdWx0U3dpcGVYOiB0cnVlLFxyXG5cdFx0cHJldmVudERlZmF1bHRTd2lwZVk6IGZhbHNlLFxyXG5cclxuXHRcdC8vIFBBR0VSXHJcblx0XHRwYWdlcjogdHJ1ZSxcclxuXHRcdHBhZ2VyVHlwZTogJ2Z1bGwnLFxyXG5cdFx0cGFnZXJTaG9ydFNlcGFyYXRvcjogJyAvICcsXHJcblx0XHRwYWdlclNlbGVjdG9yOiBudWxsLFxyXG5cdFx0YnVpbGRQYWdlcjogbnVsbCxcclxuXHRcdHBhZ2VyQ3VzdG9tOiBudWxsLFxyXG5cclxuXHRcdC8vIENPTlRST0xTXHJcblx0XHRjb250cm9sczogdHJ1ZSxcclxuXHRcdG5leHRUZXh0OiAnTmV4dCcsXHJcblx0XHRwcmV2VGV4dDogJ1ByZXYnLFxyXG5cdFx0bmV4dFNlbGVjdG9yOiBudWxsLFxyXG5cdFx0cHJldlNlbGVjdG9yOiBudWxsLFxyXG5cdFx0YXV0b0NvbnRyb2xzOiBmYWxzZSxcclxuXHRcdHN0YXJ0VGV4dDogJ1N0YXJ0JyxcclxuXHRcdHN0b3BUZXh0OiAnU3RvcCcsXHJcblx0XHRhdXRvQ29udHJvbHNDb21iaW5lOiBmYWxzZSxcclxuXHRcdGF1dG9Db250cm9sc1NlbGVjdG9yOiBudWxsLFxyXG5cclxuXHRcdC8vIEFVVE9cclxuXHRcdGF1dG86IGZhbHNlLFxyXG5cdFx0cGF1c2U6IDQwMDAsXHJcblx0XHRhdXRvU3RhcnQ6IHRydWUsXHJcblx0XHRhdXRvRGlyZWN0aW9uOiAnbmV4dCcsXHJcblx0XHRhdXRvSG92ZXI6IGZhbHNlLFxyXG5cdFx0YXV0b0RlbGF5OiAwLFxyXG5cdFx0YXV0b1NsaWRlRm9yT25lUGFnZTogZmFsc2UsXHJcblxyXG5cdFx0Ly8gQ0FST1VTRUxcclxuXHRcdG1pblNsaWRlczogMSxcclxuXHRcdG1heFNsaWRlczogMSxcclxuXHRcdG1vdmVTbGlkZXM6IDAsXHJcblx0XHRzbGlkZVdpZHRoOiAwLFxyXG5cclxuXHRcdC8vIENBTExCQUNLU1xyXG5cdFx0b25TbGlkZXJMb2FkOiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZUJlZm9yZTogZnVuY3Rpb24oKSB7fSxcclxuXHRcdG9uU2xpZGVBZnRlcjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdG9uU2xpZGVOZXh0OiBmdW5jdGlvbigpIHt9LFxyXG5cdFx0b25TbGlkZVByZXY6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRvblNsaWRlclJlc2l6ZTogZnVuY3Rpb24oKSB7fVxyXG5cdH1cclxuXHJcblx0JC5mbi5ieFNsaWRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG5cclxuXHRcdGlmKHRoaXMubGVuZ3RoID09IDApIHJldHVybiB0aGlzO1xyXG5cclxuXHRcdC8vIHN1cHBvcnQgbXV0bHRpcGxlIGVsZW1lbnRzXHJcblx0XHRpZih0aGlzLmxlbmd0aCA+IDEpe1xyXG5cdFx0XHR0aGlzLmVhY2goZnVuY3Rpb24oKXskKHRoaXMpLmJ4U2xpZGVyKG9wdGlvbnMpfSk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNyZWF0ZSBhIG5hbWVzcGFjZSB0byBiZSB1c2VkIHRocm91Z2hvdXQgdGhlIHBsdWdpblxyXG5cdFx0dmFyIHNsaWRlciA9IHt9O1xyXG5cdFx0Ly8gc2V0IGEgcmVmZXJlbmNlIHRvIG91ciBzbGlkZXIgZWxlbWVudFxyXG5cdFx0dmFyIGVsID0gdGhpcztcclxuXHRcdHBsdWdpbi5lbCA9IHRoaXM7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBNYWtlcyBzbGlkZXNob3cgcmVzcG9uc2l2ZVxyXG5cdFx0ICovXHJcblx0XHQvLyBmaXJzdCBnZXQgdGhlIG9yaWdpbmFsIHdpbmRvdyBkaW1lbnMgKHRoYW5rcyBhbG90IElFKVxyXG5cdFx0dmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XHJcblx0XHR2YXIgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xyXG5cclxuXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cdFx0ICogPSBQUklWQVRFIEZVTkNUSU9OU1xyXG5cdFx0ICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHRcdCAqL1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSW5pdGlhbGl6ZXMgbmFtZXNwYWNlIHNldHRpbmdzIHRvIGJlIHVzZWQgdGhyb3VnaG91dCBwbHVnaW5cclxuXHRcdCAqL1xyXG5cdFx0dmFyIGluaXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBtZXJnZSB1c2VyLXN1cHBsaWVkIG9wdGlvbnMgd2l0aCB0aGUgZGVmYXVsdHNcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHRcdFx0Ly8gcGFyc2Ugc2xpZGVXaWR0aCBzZXR0aW5nXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID0gcGFyc2VJbnQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpO1xyXG5cdFx0XHQvLyBzdG9yZSB0aGUgb3JpZ2luYWwgY2hpbGRyZW5cclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuID0gZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpO1xyXG5cdFx0XHQvLyBjaGVjayBpZiBhY3R1YWwgbnVtYmVyIG9mIHNsaWRlcyBpcyBsZXNzIHRoYW4gbWluU2xpZGVzIC8gbWF4U2xpZGVzXHJcblx0XHRcdGlmKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPCBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzKSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcclxuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoO1xyXG5cdFx0XHQvLyBpZiByYW5kb20gc3RhcnQsIHNldCB0aGUgc3RhcnRTbGlkZSBzZXR0aW5nIHRvIHJhbmRvbSBudW1iZXJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnJhbmRvbVN0YXJ0KSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNsaWRlci5jaGlsZHJlbi5sZW5ndGgpO1xyXG5cdFx0XHQvLyBzdG9yZSBhY3RpdmUgc2xpZGUgaW5mb3JtYXRpb25cclxuXHRcdFx0c2xpZGVyLmFjdGl2ZSA9IHsgaW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlIH1cclxuXHRcdFx0Ly8gc3RvcmUgaWYgdGhlIHNsaWRlciBpcyBpbiBjYXJvdXNlbCBtb2RlIChkaXNwbGF5aW5nIC8gbW92aW5nIG11bHRpcGxlIHNsaWRlcylcclxuXHRcdFx0c2xpZGVyLmNhcm91c2VsID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA+IDEgfHwgc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDE7XHJcblx0XHRcdC8vIGlmIGNhcm91c2VsLCBmb3JjZSBwcmVsb2FkSW1hZ2VzID0gJ2FsbCdcclxuXHRcdFx0aWYoc2xpZGVyLmNhcm91c2VsKSBzbGlkZXIuc2V0dGluZ3MucHJlbG9hZEltYWdlcyA9ICdhbGwnO1xyXG5cdFx0XHQvLyBjYWxjdWxhdGUgdGhlIG1pbiAvIG1heCB3aWR0aCB0aHJlc2hvbGRzIGJhc2VkIG9uIG1pbiAvIG1heCBudW1iZXIgb2Ygc2xpZGVzXHJcblx0XHRcdC8vIHVzZWQgdG8gc2V0dXAgYW5kIHVwZGF0ZSBjYXJvdXNlbCBzbGlkZXMgZGltZW5zaW9uc1xyXG5cdFx0XHRzbGlkZXIubWluVGhyZXNob2xkID0gKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XHJcblx0XHRcdHNsaWRlci5tYXhUaHJlc2hvbGQgPSAoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKSArICgoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDEpICogc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcclxuXHRcdFx0Ly8gc3RvcmUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHNsaWRlciAoaWYgY3VycmVudGx5IGFuaW1hdGluZywgd29ya2luZyBpcyB0cnVlKVxyXG5cdFx0XHRzbGlkZXIud29ya2luZyA9IGZhbHNlO1xyXG5cdFx0XHQvLyBpbml0aWFsaXplIHRoZSBjb250cm9scyBvYmplY3RcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzID0ge307XHJcblx0XHRcdC8vIGluaXRpYWxpemUgYW4gYXV0byBpbnRlcnZhbFxyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0XHQvLyBkZXRlcm1pbmUgd2hpY2ggcHJvcGVydHkgdG8gdXNlIGZvciB0cmFuc2l0aW9uc1xyXG5cdFx0XHRzbGlkZXIuYW5pbVByb3AgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnID8gJ3RvcCcgOiAnbGVmdCc7XHJcblx0XHRcdC8vIGRldGVybWluZSBpZiBoYXJkd2FyZSBhY2NlbGVyYXRpb24gY2FuIGJlIHVzZWRcclxuXHRcdFx0c2xpZGVyLnVzaW5nQ1NTID0gc2xpZGVyLnNldHRpbmdzLnVzZUNTUyAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAnZmFkZScgJiYgKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0Ly8gY3JlYXRlIG91ciB0ZXN0IGRpdiBlbGVtZW50XHJcblx0XHRcdFx0dmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0XHRcdC8vIGNzcyB0cmFuc2l0aW9uIHByb3BlcnRpZXNcclxuXHRcdFx0XHR2YXIgcHJvcHMgPSBbJ1dlYmtpdFBlcnNwZWN0aXZlJywgJ01velBlcnNwZWN0aXZlJywgJ09QZXJzcGVjdGl2ZScsICdtc1BlcnNwZWN0aXZlJ107XHJcblx0XHRcdFx0Ly8gdGVzdCBmb3IgZWFjaCBwcm9wZXJ0eVxyXG5cdFx0XHRcdGZvcih2YXIgaSBpbiBwcm9wcyl7XHJcblx0XHRcdFx0XHRpZihkaXYuc3R5bGVbcHJvcHNbaV1dICE9PSB1bmRlZmluZWQpe1xyXG5cdFx0XHRcdFx0XHRzbGlkZXIuY3NzUHJlZml4ID0gcHJvcHNbaV0ucmVwbGFjZSgnUGVyc3BlY3RpdmUnLCAnJykudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0XHRcdFx0c2xpZGVyLmFuaW1Qcm9wID0gJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNmb3JtJztcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fSgpKTtcclxuXHRcdFx0Ly8gaWYgdmVydGljYWwgbW9kZSBhbHdheXMgbWFrZSBtYXhTbGlkZXMgYW5kIG1pblNsaWRlcyBlcXVhbFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuXHRcdFx0Ly8gc2F2ZSBvcmlnaW5hbCBzdHlsZSBkYXRhXHJcblx0XHRcdGVsLmRhdGEoXCJvcmlnU3R5bGVcIiwgZWwuYXR0cihcInN0eWxlXCIpKTtcclxuXHRcdFx0ZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdCAgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIsICQodGhpcykuYXR0cihcInN0eWxlXCIpKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIHBlcmZvcm0gYWxsIERPTSAvIENTUyBtb2RpZmljYXRpb25zXHJcblx0XHRcdHNldHVwKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBQZXJmb3JtcyBhbGwgRE9NIGFuZCBDU1MgbW9kaWZpY2F0aW9uc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0dXAgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyB3cmFwIGVsIGluIGEgd3JhcHBlclxyXG5cdFx0XHRlbC53cmFwKCc8ZGl2IGNsYXNzPVwiJyArIHNsaWRlci5zZXR0aW5ncy53cmFwcGVyQ2xhc3MgKyAnXCI+PGRpdiBjbGFzcz1cImJ4LXZpZXdwb3J0XCI+PC9kaXY+PC9kaXY+Jyk7XHJcblx0XHRcdC8vIHN0b3JlIGEgbmFtc3BhY2UgcmVmZXJlbmNlIHRvIC5ieC12aWV3cG9ydFxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQgPSBlbC5wYXJlbnQoKTtcclxuXHRcdFx0Ly8gYWRkIGEgbG9hZGluZyBkaXYgdG8gZGlzcGxheSB3aGlsZSBpbWcgYXJlIGxvYWRpbmdcclxuXHRcdFx0c2xpZGVyLmxvYWRlciA9ICQoJzxkaXYgY2xhc3M9XCJieC1sb2FkaW5nXCIgLz4nKTtcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnByZXBlbmQoc2xpZGVyLmxvYWRlcik7XHJcblx0XHRcdC8vIHNldCBlbCB0byBhIG1hc3NpdmUgd2lkdGgsIHRvIGhvbGQgYW55IG5lZWRlZCBzbGlkZXNcclxuXHRcdFx0Ly8gYWxzbyBzdHJpcCBhbnkgbWFyZ2luIGFuZCBwYWRkaW5nIGZyb20gZWxcclxuXHRcdFx0ZWwuY3NzKHtcclxuXHRcdFx0XHR3aWR0aDogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggKiAxMDAgKyAyMTUpICsgJyUnIDogJ2F1dG8nLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyBpZiB1c2luZyBDU1MsIGFkZCB0aGUgZWFzaW5nIHByb3BlcnR5XHJcblx0XHRcdGlmKHNsaWRlci51c2luZ0NTUyAmJiBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKXtcclxuXHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKTtcclxuXHRcdFx0Ly8gaWYgbm90IHVzaW5nIENTUyBhbmQgbm8gZWFzaW5nIHZhbHVlIHdhcyBzdXBwbGllZCwgdXNlIHRoZSBkZWZhdWx0IEpTIGFuaW1hdGlvbiBlYXNpbmcgKHN3aW5nKVxyXG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmVhc2luZyl7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLmVhc2luZyA9ICdzd2luZyc7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9ucyB0byB0aGUgdmlld3BvcnQgKC5ieC12aWV3cG9ydClcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcyh7XHJcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcclxuXHRcdFx0XHRvdmVyZmxvdzogJ2hpZGRlbicsXHJcblx0XHRcdFx0cG9zaXRpb246ICdyZWxhdGl2ZSdcclxuXHRcdFx0fSk7XHJcblx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xyXG5cdFx0XHRcdG1heFdpZHRoOiBnZXRWaWV3cG9ydE1heFdpZHRoKClcclxuXHRcdFx0fSk7XHJcblx0XHRcdC8vIG1ha2UgbW9kaWZpY2F0aW9uIHRvIHRoZSB3cmFwcGVyICguYngtd3JhcHBlcilcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlcikge1xyXG5cdFx0XHRcdHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xyXG5cdFx0XHRcdG1hcmdpbjogJzAgYXV0byAwcHgnXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gYXBwbHkgY3NzIHRvIGFsbCBzbGlkZXIgY2hpbGRyZW5cclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XHJcblx0XHRcdFx0J2Zsb2F0Jzogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ25vbmUnLFxyXG5cdFx0XHRcdGxpc3RTdHlsZTogJ25vbmUnLFxyXG5cdFx0XHRcdHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyBhcHBseSB0aGUgY2FsY3VsYXRlZCB3aWR0aCBhZnRlciB0aGUgZmxvYXQgaXMgYXBwbGllZCB0byBwcmV2ZW50IHNjcm9sbGJhciBpbnRlcmZlcmVuY2VcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcygnd2lkdGgnLCBnZXRTbGlkZVdpZHRoKCkpO1xyXG5cdFx0XHQvLyBpZiBzbGlkZU1hcmdpbiBpcyBzdXBwbGllZCwgYWRkIHRoZSBjc3NcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHNsaWRlci5jaGlsZHJlbi5jc3MoJ21hcmdpblJpZ2h0Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTtcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gPiAwKSBzbGlkZXIuY2hpbGRyZW4uY3NzKCdtYXJnaW5Cb3R0b20nLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHQvLyBpZiBcImZhZGVcIiBtb2RlLCBhZGQgcG9zaXRpb25pbmcgYW5kIHotaW5kZXggQ1NTXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XHJcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmNzcyh7XHJcblx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuXHRcdFx0XHRcdHpJbmRleDogMCxcclxuXHRcdFx0XHRcdGRpc3BsYXk6ICdub25lJ1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdC8vIHByZXBhcmUgdGhlIHotaW5kZXggb24gdGhlIHNob3dpbmcgZWxlbWVudFxyXG5cdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSkuY3NzKHt6SW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCwgZGlzcGxheTogJ2Jsb2NrJ30pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGNyZWF0ZSBhbiBlbGVtZW50IHRvIGNvbnRhaW4gYWxsIHNsaWRlciBjb250cm9scyAocGFnZXIsIHN0YXJ0IC8gc3RvcCwgZXRjKVxyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuZWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHNcIiAvPicpO1xyXG5cdFx0XHQvLyBpZiBjYXB0aW9ucyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY2FwdGlvbnMpIGFwcGVuZENhcHRpb25zKCk7XHJcblx0XHRcdC8vIGNoZWNrIGlmIHN0YXJ0U2xpZGUgaXMgbGFzdCBzbGlkZVxyXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSA9PSBnZXRQYWdlclF0eSgpIC0gMTtcclxuXHRcdFx0Ly8gaWYgdmlkZW8gaXMgdHJ1ZSwgc2V0IHVwIHRoZSBmaXRWaWRzIHBsdWdpblxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudmlkZW8pIGVsLmZpdFZpZHMoKTtcclxuXHRcdFx0Ly8gc2V0IHRoZSBkZWZhdWx0IHByZWxvYWQgc2VsZWN0b3IgKHZpc2libGUpXHJcblx0XHRcdHZhciBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLnByZWxvYWRJbWFnZXMgPT0gXCJhbGxcIikgcHJlbG9hZFNlbGVjdG9yID0gc2xpZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHQvLyBvbmx5IGNoZWNrIGZvciBjb250cm9sIGFkZGl0aW9uIGlmIG5vdCBpbiBcInRpY2tlclwiIG1vZGVcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpe1xyXG5cdFx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgYWRkIGl0XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyKSBhcHBlbmRQYWdlcigpO1xyXG5cdFx0XHRcdC8vIGlmIGNvbnRyb2xzIGFyZSByZXF1ZXN0ZWQsIGFkZCB0aGVtXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSBhcHBlbmRDb250cm9scygpO1xyXG5cdFx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSwgYW5kIGF1dG8gY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzKSBhcHBlbmRDb250cm9sc0F1dG8oKTtcclxuXHRcdFx0XHQvLyBpZiBhbnkgY29udHJvbCBvcHRpb24gaXMgcmVxdWVzdGVkLCBhZGQgdGhlIGNvbnRyb2xzIHdyYXBwZXJcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMgfHwgc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MucGFnZXIpIHNsaWRlci52aWV3cG9ydC5hZnRlcihzbGlkZXIuY29udHJvbHMuZWwpO1xyXG5cdFx0XHQvLyBpZiB0aWNrZXIgbW9kZSwgZG8gbm90IGFsbG93IGEgcGFnZXJcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLnNldHRpbmdzLnBhZ2VyID0gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gcHJlbG9hZCBhbGwgaW1nLCB0aGVuIHBlcmZvcm0gZmluYWwgRE9NIC8gQ1NTIG1vZGlmaWNhdGlvbnMgdGhhdCBkZXBlbmQgb24gaW1nIGJlaW5nIGxvYWRlZFxyXG5cdFx0XHRsb2FkRWxlbWVudHMocHJlbG9hZFNlbGVjdG9yLCBzdGFydCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGxvYWRFbGVtZW50cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjayl7XHJcblx0XHRcdHZhciB0b3RhbCA9IHNlbGVjdG9yLmZpbmQoJ2ltZywgaWZyYW1lJykubGVuZ3RoO1xyXG5cdFx0XHRpZiAodG90YWwgPT0gMCl7XHJcblx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGNvdW50ID0gMDtcclxuXHRcdFx0c2VsZWN0b3IuZmluZCgnaW1nLCBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0JCh0aGlzKS5vbmUoJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQgIGlmKCsrY291bnQgPT0gdG90YWwpIGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0fSkuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQgIGlmKHRoaXMuY29tcGxldGUpICQodGhpcykubG9hZCgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0YXJ0IHRoZSBzbGlkZXJcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaWYgaW5maW5pdGUgbG9vcCwgcHJlcGFyZSBhZGRpdGlvbmFsIHNsaWRlc1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9ICdmYWRlJyAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcil7XHJcblx0XHRcdFx0dmFyIHNsaWNlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyA/IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgOiBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xyXG5cdFx0XHRcdHZhciBzbGljZUFwcGVuZCA9IHNsaWRlci5jaGlsZHJlbi5zbGljZSgwLCBzbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcclxuXHRcdFx0XHR2YXIgc2xpY2VQcmVwZW5kID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKC1zbGljZSkuY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcclxuXHRcdFx0XHRlbC5hcHBlbmQoc2xpY2VBcHBlbmQpLnByZXBlbmQoc2xpY2VQcmVwZW5kKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyByZW1vdmUgdGhlIGxvYWRpbmcgRE9NIGVsZW1lbnRcclxuXHRcdFx0c2xpZGVyLmxvYWRlci5yZW1vdmUoKTtcclxuXHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IC8gdG9wIHBvc2l0aW9uIG9mIFwiZWxcIlxyXG5cdFx0XHRzZXRTbGlkZVBvc2l0aW9uKCk7XHJcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBhbHdheXMgdXNlIGFkYXB0aXZlSGVpZ2h0IHRvIHByZXZlbnQgb2RkIGJlaGF2aW9yXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgPSB0cnVlO1xyXG5cdFx0XHQvLyBzZXQgdGhlIHZpZXdwb3J0IGhlaWdodFxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQuaGVpZ2h0KGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xyXG5cdFx0XHQvLyBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBwb3NpdGlvbmVkIGp1c3QgcmlnaHQgKHNhbWUgYXMgYSB3aW5kb3cgcmVzaXplKVxyXG5cdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcclxuXHRcdFx0Ly8gb25TbGlkZXJMb2FkIGNhbGxiYWNrXHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlckxvYWQoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdC8vIHNsaWRlciBoYXMgYmVlbiBmdWxseSBpbml0aWFsaXplZFxyXG5cdFx0XHRzbGlkZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHQvLyBiaW5kIHRoZSByZXNpemUgY2FsbCB0byB0aGUgd2luZG93XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MucmVzcG9uc2l2ZSkgJCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZScsIHJlc2l6ZVdpbmRvdyk7XHJcblx0XHRcdC8vIGlmIGF1dG8gaXMgdHJ1ZSBhbmQgaGFzIG1vcmUgdGhhbiAxIHBhZ2UsIHN0YXJ0IHRoZSBzaG93XHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3MuYXV0b1N0YXJ0ICYmIChnZXRQYWdlclF0eSgpID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b1NsaWRlRm9yT25lUGFnZSkpIGluaXRBdXRvKCk7XHJcblx0XHRcdC8vIGlmIHRpY2tlciBpcyB0cnVlLCBzdGFydCB0aGUgdGlja2VyXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MudGlja2VyKSBpbml0VGlja2VyKCk7XHJcblx0XHRcdC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgbWFrZSB0aGUgYXBwcm9wcmlhdGUgcGFnZXIgbGluayBhY3RpdmVcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpO1xyXG5cdFx0XHQvLyBjaGVjayBmb3IgYW55IHVwZGF0ZXMgdG8gdGhlIGNvbnRyb2xzIChsaWtlIGhpZGVDb250cm9sT25FbmQgdXBkYXRlcylcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy5jb250cm9scykgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMoKTtcclxuXHRcdFx0Ly8gaWYgdG91Y2hFbmFibGVkIGlzIHRydWUsIHNldHVwIHRoZSB0b3VjaCBldmVudHNcclxuXHRcdFx0aWYgKHNsaWRlci5zZXR0aW5ncy50b3VjaEVuYWJsZWQgJiYgIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIGluaXRUb3VjaCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB1c2VkIHRvIGRldGVybWluZSBlaXRoZXIgYWRhcHRpdmVIZWlnaHQgb3IgdGhlIG1heEhlaWdodCB2YWx1ZVxyXG5cdFx0ICovXHJcblx0XHR2YXIgZ2V0Vmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgaGVpZ2h0ID0gMDtcclxuXHRcdFx0Ly8gZmlyc3QgZGV0ZXJtaW5lIHdoaWNoIGNoaWxkcmVuIChzbGlkZXMpIHNob3VsZCBiZSB1c2VkIGluIG91ciBoZWlnaHQgY2FsY3VsYXRpb25cclxuXHRcdFx0dmFyIGNoaWxkcmVuID0gJCgpO1xyXG5cdFx0XHQvLyBpZiBtb2RlIGlzIG5vdCBcInZlcnRpY2FsXCIgYW5kIGFkYXB0aXZlSGVpZ2h0IGlzIGZhbHNlLCBpbmNsdWRlIGFsbCBjaGlsZHJlblxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSAhPSAndmVydGljYWwnICYmICFzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpe1xyXG5cdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHQvLyBpZiBub3QgY2Fyb3VzZWwsIHJldHVybiB0aGUgc2luZ2xlIGFjdGl2ZSBjaGlsZFxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuY2Fyb3VzZWwpe1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdFx0Ly8gaWYgY2Fyb3VzZWwsIHJldHVybiBhIHNsaWNlIG9mIGNoaWxkcmVuXHJcblx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGluZGl2aWR1YWwgc2xpZGUgaW5kZXhcclxuXHRcdFx0XHRcdHZhciBjdXJyZW50SW5kZXggPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PSAxID8gc2xpZGVyLmFjdGl2ZS5pbmRleCA6IHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKTtcclxuXHRcdFx0XHRcdC8vIGFkZCB0aGUgY3VycmVudCBzbGlkZSB0byB0aGUgY2hpbGRyZW5cclxuXHRcdFx0XHRcdGNoaWxkcmVuID0gc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCk7XHJcblx0XHRcdFx0XHQvLyBjeWNsZSB0aHJvdWdoIHRoZSByZW1haW5pbmcgXCJzaG93aW5nXCIgc2xpZGVzXHJcblx0XHRcdFx0XHRmb3IgKGkgPSAxOyBpIDw9IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxOyBpKyspe1xyXG5cdFx0XHRcdFx0XHQvLyBpZiBsb29wZWQgYmFjayB0byB0aGUgc3RhcnRcclxuXHRcdFx0XHRcdFx0aWYoY3VycmVudEluZGV4ICsgaSA+PSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKXtcclxuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbiA9IGNoaWxkcmVuLmFkZChzbGlkZXIuY2hpbGRyZW4uZXEoaSAtIDEpKTtcclxuXHRcdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdFx0Y2hpbGRyZW4gPSBjaGlsZHJlbi5hZGQoc2xpZGVyLmNoaWxkcmVuLmVxKGN1cnJlbnRJbmRleCArIGkpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgY2FsY3VsYXRlIHRoZSBzdW0gb2YgdGhlIGhlaWdodHMgb2YgdGhlIGNoaWxkcmVuXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcpe1xyXG5cdFx0XHRcdGNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcclxuXHRcdFx0XHQgIGhlaWdodCArPSAkKHRoaXMpLm91dGVySGVpZ2h0KCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0Ly8gYWRkIHVzZXItc3VwcGxpZWQgbWFyZ2luc1xyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApe1xyXG5cdFx0XHRcdFx0aGVpZ2h0ICs9IHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBub3QgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgbWF4IGhlaWdodCBvZiB0aGUgY2hpbGRyZW5cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0aGVpZ2h0ID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5vdXRlckhlaWdodChmYWxzZSk7XHJcblx0XHRcdFx0fSkuZ2V0KCkpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZihzbGlkZXIudmlld3BvcnQuY3NzKCdib3gtc2l6aW5nJykgPT0gJ2JvcmRlci1ib3gnKXtcclxuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpICtcclxuXHRcdFx0XHRcdFx0XHRwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci10b3Atd2lkdGgnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XHJcblx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC5jc3MoJ2JveC1zaXppbmcnKSA9PSAncGFkZGluZy1ib3gnKXtcclxuXHRcdFx0XHRoZWlnaHQgKz1cdHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy10b3AnKSkgKyBwYXJzZUZsb2F0KHNsaWRlci52aWV3cG9ydC5jc3MoJ3BhZGRpbmctYm90dG9tJykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gaGVpZ2h0O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSB1c2VkIGZvciB0aGUgb3V0ZXIgd3JhcHBlciAvIHZpZXdwb3J0XHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRWaWV3cG9ydE1heFdpZHRoID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHdpZHRoID0gJzEwMCUnO1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApe1xyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XHJcblx0XHRcdFx0XHR3aWR0aCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0d2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHdpZHRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSBhcHBsaWVkIHRvIGVhY2ggc2xpZGVcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGdldFNsaWRlV2lkdGggPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBzdGFydCB3aXRoIGFueSB1c2VyLXN1cHBsaWVkIHNsaWRlIHdpZHRoXHJcblx0XHRcdHZhciBuZXdFbFdpZHRoID0gc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGg7XHJcblx0XHRcdC8vIGdldCB0aGUgY3VycmVudCB2aWV3cG9ydCB3aWR0aFxyXG5cdFx0XHR2YXIgd3JhcFdpZHRoID0gc2xpZGVyLnZpZXdwb3J0LndpZHRoKCk7XHJcblx0XHRcdC8vIGlmIHNsaWRlIHdpZHRoIHdhcyBub3Qgc3VwcGxpZWQsIG9yIGlzIGxhcmdlciB0aGFuIHRoZSB2aWV3cG9ydCB1c2UgdGhlIHZpZXdwb3J0IHdpZHRoXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID09IDAgfHxcclxuXHRcdFx0XHQoc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiB3cmFwV2lkdGggJiYgIXNsaWRlci5jYXJvdXNlbCkgfHxcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKXtcclxuXHRcdFx0XHRuZXdFbFdpZHRoID0gd3JhcFdpZHRoO1xyXG5cdFx0XHQvLyBpZiBjYXJvdXNlbCwgdXNlIHRoZSB0aHJlc2hvbGRzIHRvIGRldGVybWluZSB0aGUgd2lkdGhcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyA+IDEgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRpZih3cmFwV2lkdGggPiBzbGlkZXIubWF4VGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdC8vIG5ld0VsV2lkdGggPSAod3JhcFdpZHRoIC0gKHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkpKSAvIHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXM7XHJcblx0XHRcdFx0fWVsc2UgaWYod3JhcFdpZHRoIDwgc2xpZGVyLm1pblRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRuZXdFbFdpZHRoID0gKHdyYXBXaWR0aCAtIChzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4gKiAoc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyAtIDEpKSkgLyBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbmV3RWxXaWR0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgdGhlIG51bWJlciBvZiBzbGlkZXMgY3VycmVudGx5IHZpc2libGUgaW4gdGhlIHZpZXdwb3J0IChpbmNsdWRlcyBwYXJ0aWFsbHkgdmlzaWJsZSBzbGlkZXMpXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXROdW1iZXJTbGlkZXNTaG93aW5nID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHNsaWRlc1Nob3dpbmcgPSAxO1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGggPiAwKXtcclxuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBzbWFsbGVyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWluU2xpZGVzXHJcblx0XHRcdFx0aWYoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgPCBzbGlkZXIubWluVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdC8vIGlmIHZpZXdwb3J0IGlzIGxhcmdlciB0aGFuIG1pblRocmVzaG9sZCwgcmV0dXJuIG1heFNsaWRlc1xyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci52aWV3cG9ydC53aWR0aCgpID4gc2xpZGVyLm1heFRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRzbGlkZXNTaG93aW5nID0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcztcclxuXHRcdFx0XHQvLyBpZiB2aWV3cG9ydCBpcyBiZXR3ZWVuIG1pbiAvIG1heCB0aHJlc2hvbGRzLCBkaXZpZGUgdmlld3BvcnQgd2lkdGggYnkgZmlyc3QgY2hpbGQgd2lkdGhcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdHZhciBjaGlsZFdpZHRoID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkud2lkdGgoKSArIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbjtcclxuXHRcdFx0XHRcdHNsaWRlc1Nob3dpbmcgPSBNYXRoLmZsb29yKChzbGlkZXIudmlld3BvcnQud2lkdGgoKSArXHJcblx0XHRcdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbikgLyBjaGlsZFdpZHRoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBzbGlkZXMgc2hvd2luZyB3aWxsIGFsd2F5cyBiZSBtaW5TbGlkZXNcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XHJcblx0XHRcdFx0c2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHNsaWRlc1Nob3dpbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgcGFnZXMgKG9uZSBmdWxsIHZpZXdwb3J0IG9mIHNsaWRlcyBpcyBvbmUgXCJwYWdlXCIpXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRQYWdlclF0eSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBwYWdlclF0eSA9IDA7XHJcblx0XHRcdC8vIGlmIG1vdmVTbGlkZXMgaXMgc3BlY2lmaWVkIGJ5IHRoZSB1c2VyXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCl7XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCl7XHJcblx0XHRcdFx0XHRwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TW92ZUJ5KCkpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Ly8gdXNlIGEgd2hpbGUgbG9vcCB0byBkZXRlcm1pbmUgcGFnZXNcclxuXHRcdFx0XHRcdHZhciBicmVha1BvaW50ID0gMDtcclxuXHRcdFx0XHRcdHZhciBjb3VudGVyID0gMFxyXG5cdFx0XHRcdFx0Ly8gd2hlbiBicmVha3BvaW50IGdvZXMgYWJvdmUgY2hpbGRyZW4gbGVuZ3RoLCBjb3VudGVyIGlzIHRoZSBudW1iZXIgb2YgcGFnZXNcclxuXHRcdFx0XHRcdHdoaWxlIChicmVha1BvaW50IDwgc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCl7XHJcblx0XHRcdFx0XHRcdCsrcGFnZXJRdHk7XHJcblx0XHRcdFx0XHRcdGJyZWFrUG9pbnQgPSBjb3VudGVyICsgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0XHRcdFx0XHRjb3VudGVyICs9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSA/IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDogZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKSBkaXZpZGUgY2hpbGRyZW4gbGVuZ3RoIGJ5IHNpZGVzIHNob3dpbmcsIHRoZW4gcm91bmQgdXBcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0cGFnZXJRdHkgPSBNYXRoLmNlaWwoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAvIGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHBhZ2VyUXR5O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGluZGl2dWFsIHNsaWRlcyBieSB3aGljaCB0byBzaGlmdCB0aGUgc2xpZGVyXHJcblx0XHQgKi9cclxuXHRcdHZhciBnZXRNb3ZlQnkgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpZiBtb3ZlU2xpZGVzIHdhcyBzZXQgYnkgdGhlIHVzZXIgYW5kIG1vdmVTbGlkZXMgaXMgbGVzcyB0aGFuIG51bWJlciBvZiBzbGlkZXMgc2hvd2luZ1xyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA+IDAgJiYgc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPD0gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKXtcclxuXHRcdFx0XHRyZXR1cm4gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXM7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKVxyXG5cdFx0XHRyZXR1cm4gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU2V0cyB0aGUgc2xpZGVyJ3MgKGVsKSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0U2xpZGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGxhc3Qgc2xpZGUsIG5vdCBpbmZpbml0ZSBsb29wLCBhbmQgbnVtYmVyIG9mIGNoaWxkcmVuIGlzIGxhcmdlciB0aGFuIHNwZWNpZmllZCBtYXhTbGlkZXNcclxuXHRcdFx0aWYoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA+IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmICFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKXtcclxuXHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCdzIHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgbGFzdENoaWxkID0gc2xpZGVyLmNoaWxkcmVuLmxhc3QoKTtcclxuXHRcdFx0XHRcdHZhciBwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBsZWZ0IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KC0ocG9zaXRpb24ubGVmdCAtIChzbGlkZXIudmlld3BvcnQud2lkdGgoKSAtIGxhc3RDaGlsZC5vdXRlcldpZHRoKCkpKSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJyl7XHJcblx0XHRcdFx0XHQvLyBnZXQgdGhlIGxhc3Qgc2hvd2luZyBpbmRleCdzIHBvc2l0aW9uXHJcblx0XHRcdFx0XHR2YXIgbGFzdFNob3dpbmdJbmRleCA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG5cdFx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHQvLyBzZXQgdGhlIHRvcCBwb3NpdGlvblxyXG5cdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIGlmIG5vdCBsYXN0IHNsaWRlXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdC8vIGdldCB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IHNob3dpbmcgc2xpZGVcclxuXHRcdFx0XHR2YXIgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGNoZWNrIGZvciBsYXN0IHNsaWRlXHJcblx0XHRcdFx0aWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gc2V0IHRoZSByZXBlY3RpdmUgcG9zaXRpb25cclxuXHRcdFx0XHRpZiAocG9zaXRpb24gIT0gdW5kZWZpbmVkKXtcclxuXHRcdFx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAnaG9yaXpvbnRhbCcpIHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ3ZlcnRpY2FsJykgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFNldHMgdGhlIGVsJ3MgYW5pbWF0aW5nIHByb3BlcnR5IHBvc2l0aW9uICh3aGljaCBpbiB0dXJuIHdpbGwgc29tZXRpbWVzIGFuaW1hdGUgZWwpLlxyXG5cdFx0ICogSWYgdXNpbmcgQ1NTLCBzZXRzIHRoZSB0cmFuc2Zvcm0gcHJvcGVydHkuIElmIG5vdCB1c2luZyBDU1MsIHNldHMgdGhlIHRvcCAvIGxlZnQgcHJvcGVydHkuXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHZhbHVlIChpbnQpXHJcblx0XHQgKiAgLSB0aGUgYW5pbWF0aW5nIHByb3BlcnR5J3MgdmFsdWVcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gdHlwZSAoc3RyaW5nKSAnc2xpZGVyJywgJ3Jlc2V0JywgJ3RpY2tlcidcclxuXHRcdCAqICAtIHRoZSB0eXBlIG9mIGluc3RhbmNlIGZvciB3aGljaCB0aGUgZnVuY3Rpb24gaXMgYmVpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZHVyYXRpb24gKGludClcclxuXHRcdCAqICAtIHRoZSBhbW91bnQgb2YgdGltZSAoaW4gbXMpIHRoZSB0cmFuc2l0aW9uIHNob3VsZCBvY2N1cHlcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcGFyYW1zIChhcnJheSkgb3B0aW9uYWxcclxuXHRcdCAqICAtIGFuIG9wdGlvbmFsIHBhcmFtZXRlciBjb250YWluaW5nIGFueSB2YXJpYWJsZXMgdGhhdCBuZWVkIHRvIGJlIHBhc3NlZCBpblxyXG5cdFx0ICovXHJcblx0XHR2YXIgc2V0UG9zaXRpb25Qcm9wZXJ0eSA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlLCBkdXJhdGlvbiwgcGFyYW1zKXtcclxuXHRcdFx0Ly8gdXNlIENTUyB0cmFuc2Zvcm1cclxuXHRcdFx0aWYoc2xpZGVyLnVzaW5nQ1NTKXtcclxuXHRcdFx0XHQvLyBkZXRlcm1pbmUgdGhlIHRyYW5zbGF0ZTNkIHZhbHVlXHJcblx0XHRcdFx0dmFyIHByb3BWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICd2ZXJ0aWNhbCcgPyAndHJhbnNsYXRlM2QoMCwgJyArIHZhbHVlICsgJ3B4LCAwKScgOiAndHJhbnNsYXRlM2QoJyArIHZhbHVlICsgJ3B4LCAwLCAwKSc7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBDU1MgdHJhbnNpdGlvbi1kdXJhdGlvblxyXG5cdFx0XHRcdGVsLmNzcygnLScgKyBzbGlkZXIuY3NzUHJlZml4ICsgJy10cmFuc2l0aW9uLWR1cmF0aW9uJywgZHVyYXRpb24gLyAxMDAwICsgJ3MnKTtcclxuXHRcdFx0XHRpZih0eXBlID09ICdzbGlkZScpe1xyXG5cdFx0XHRcdFx0Ly8gc2V0IHRoZSBwcm9wZXJ0eSB2YWx1ZVxyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuXHRcdFx0XHRcdC8vIGJpbmQgYSBjYWxsYmFjayBtZXRob2QgLSBleGVjdXRlcyB3aGVuIENTUyB0cmFuc2l0aW9uIGNvbXBsZXRlc1xyXG5cdFx0XHRcdFx0ZWwuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdC8vIHVuYmluZCB0aGUgY2FsbGJhY2tcclxuXHRcdFx0XHRcdFx0ZWwudW5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJyk7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICd0aWNrZXInKXtcclxuXHRcdFx0XHRcdC8vIG1ha2UgdGhlIHRyYW5zaXRpb24gdXNlICdsaW5lYXInXHJcblx0XHRcdFx0XHRlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nLCAnbGluZWFyJyk7XHJcblx0XHRcdFx0XHRlbC5jc3Moc2xpZGVyLmFuaW1Qcm9wLCBwcm9wVmFsdWUpO1xyXG5cdFx0XHRcdFx0Ly8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXHJcblx0XHRcdFx0XHRlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0Ly8gdW5iaW5kIHRoZSBjYWxsYmFja1xyXG5cdFx0XHRcdFx0XHRlbC51bmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnKTtcclxuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zWydyZXNldFZhbHVlJ10sICdyZXNldCcsIDApO1xyXG5cdFx0XHRcdFx0XHQvLyBzdGFydCB0aGUgbG9vcCBhZ2FpblxyXG5cdFx0XHRcdFx0XHR0aWNrZXJMb29wKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIHVzZSBKUyBhbmltYXRlXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHZhciBhbmltYXRlT2JqID0ge307XHJcblx0XHRcdFx0YW5pbWF0ZU9ialtzbGlkZXIuYW5pbVByb3BdID0gdmFsdWU7XHJcblx0XHRcdFx0aWYodHlwZSA9PSAnc2xpZGUnKXtcclxuXHRcdFx0XHRcdGVsLmFuaW1hdGUoYW5pbWF0ZU9iaiwgZHVyYXRpb24sIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9ZWxzZSBpZih0eXBlID09ICdyZXNldCcpe1xyXG5cdFx0XHRcdFx0ZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgdmFsdWUpXHJcblx0XHRcdFx0fWVsc2UgaWYodHlwZSA9PSAndGlja2VyJyl7XHJcblx0XHRcdFx0XHRlbC5hbmltYXRlKGFuaW1hdGVPYmosIHNwZWVkLCAnbGluZWFyJywgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShwYXJhbXNbJ3Jlc2V0VmFsdWUnXSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdFx0XHRcdC8vIHJ1biB0aGUgcmVjdXJzaXZlIGxvb3AgYWZ0ZXIgYW5pbWF0aW9uXHJcblx0XHRcdFx0XHRcdHRpY2tlckxvb3AoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUG9wdWxhdGVzIHRoZSBwYWdlciB3aXRoIHByb3BlciBhbW91bnQgb2YgcGFnZXNcclxuXHRcdCAqL1xyXG5cdFx0dmFyIHBvcHVsYXRlUGFnZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgcGFnZXJIdG1sID0gJyc7XHJcblx0XHRcdHZhciBwYWdlclF0eSA9IGdldFBhZ2VyUXR5KCk7XHJcblx0XHRcdC8vIGxvb3AgdGhyb3VnaCBlYWNoIHBhZ2VyIGl0ZW1cclxuXHRcdFx0Zm9yKHZhciBpPTA7IGkgPCBwYWdlclF0eTsgaSsrKXtcclxuXHRcdFx0XHR2YXIgbGlua0NvbnRlbnQgPSAnJztcclxuXHRcdFx0XHQvLyBpZiBhIGJ1aWxkUGFnZXIgZnVuY3Rpb24gaXMgc3VwcGxpZWQsIHVzZSBpdCB0byBnZXQgcGFnZXIgbGluayB2YWx1ZSwgZWxzZSB1c2UgaW5kZXggKyAxXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSl7XHJcblx0XHRcdFx0XHRsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKGkpO1xyXG5cdFx0XHRcdFx0c2xpZGVyLnBhZ2VyRWwuYWRkQ2xhc3MoJ2J4LWN1c3RvbS1wYWdlcicpO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0bGlua0NvbnRlbnQgPSBpICsgMTtcclxuXHRcdFx0XHRcdHNsaWRlci5wYWdlckVsLmFkZENsYXNzKCdieC1kZWZhdWx0LXBhZ2VyJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIHZhciBsaW5rQ29udGVudCA9IHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyICYmICQuaXNGdW5jdGlvbihzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcikgPyBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlcihpKSA6IGkgKyAxO1xyXG5cdFx0XHRcdC8vIGFkZCB0aGUgbWFya3VwIHRvIHRoZSBzdHJpbmdcclxuXHRcdFx0XHRwYWdlckh0bWwgKz0gJzxkaXYgY2xhc3M9XCJieC1wYWdlci1pdGVtXCI+PGEgaHJlZj1cIlwiIGRhdGEtc2xpZGUtaW5kZXg9XCInICsgaSArICdcIiBjbGFzcz1cImJ4LXBhZ2VyLWxpbmtcIj4nICsgbGlua0NvbnRlbnQgKyAnPC9hPjwvZGl2Pic7XHJcblx0XHRcdH07XHJcblx0XHRcdC8vIHBvcHVsYXRlIHRoZSBwYWdlciBlbGVtZW50IHdpdGggcGFnZXIgbGlua3NcclxuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuaHRtbChwYWdlckh0bWwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXBwZW5kcyB0aGUgcGFnZXIgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGVuZFBhZ2VyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSl7XHJcblx0XHRcdFx0Ly8gY3JlYXRlIHRoZSBwYWdlciBET00gZWxlbWVudFxyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LXBhZ2VyXCIgLz4nKTtcclxuXHRcdFx0XHQvLyBpZiBhIHBhZ2VyIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgcGFnZXJcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MucGFnZXJTZWxlY3Rvcil7XHJcblx0XHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKS5odG1sKHNsaWRlci5wYWdlckVsKTtcclxuXHRcdFx0XHQvLyBpZiBubyBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtcGFnZXInKS5hcHBlbmQoc2xpZGVyLnBhZ2VyRWwpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBwb3B1bGF0ZSB0aGUgcGFnZXJcclxuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsID0gJChzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGFzc2lnbiB0aGUgcGFnZXIgY2xpY2sgYmluZGluZ1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5vbignY2xpY2snLCAnYScsIGNsaWNrUGFnZXJCaW5kKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgcHJldiAvIG5leHQgY29udHJvbHMgdG8gdGhlIGNvbnRyb2xzIGVsZW1lbnRcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGFwcGVuZENvbnRyb2xzID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQgPSAkKCc8YSBjbGFzcz1cImJ4LW5leHRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5uZXh0VGV4dCArICc8L2E+Jyk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2ID0gJCgnPGEgY2xhc3M9XCJieC1wcmV2XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3MucHJldlRleHQgKyAnPC9hPicpO1xyXG5cdFx0XHQvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXHJcblx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmJpbmQoJ2NsaWNrJywgY2xpY2tOZXh0QmluZCk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmJpbmQoJ2NsaWNrJywgY2xpY2tQcmV2QmluZCk7XHJcblx0XHRcdC8vIGlmIG5leHRTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3Rvcil7XHJcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLm5leHQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIHByZXZTbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XHJcblx0XHRcdFx0JChzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIGlmIG5vIGN1c3RvbSBzZWxlY3RvcnMgd2VyZSBzdXBwbGllZFxyXG5cdFx0XHRpZighc2xpZGVyLnNldHRpbmdzLm5leHRTZWxlY3RvciAmJiAhc2xpZGVyLnNldHRpbmdzLnByZXZTZWxlY3Rvcil7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWRpcmVjdGlvblwiIC8+Jyk7XHJcblx0XHRcdFx0Ly8gYWRkIHRoZSBjb250cm9sIGVsZW1lbnRzIHRvIHRoZSBkaXJlY3Rpb25FbFxyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpLmFwcGVuZChzbGlkZXIuY29udHJvbHMubmV4dCk7XHJcblx0XHRcdFx0Ly8gc2xpZGVyLnZpZXdwb3J0LmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5lbC5hZGRDbGFzcygnYngtaGFzLWNvbnRyb2xzLWRpcmVjdGlvbicpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBBcHBlbmRzIHN0YXJ0IC8gc3RvcCBhdXRvIGNvbnRyb2xzIHRvIHRoZSBjb250cm9scyBlbGVtZW50XHJcblx0XHQgKi9cclxuXHRcdHZhciBhcHBlbmRDb250cm9sc0F1dG8gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuc3RhcnQgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0by1pdGVtXCI+PGEgY2xhc3M9XCJieC1zdGFydFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0YXJ0VGV4dCArICc8L2E+PC9kaXY+Jyk7XHJcblx0XHRcdHNsaWRlci5jb250cm9scy5zdG9wID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RvcFwiIGhyZWY9XCJcIj4nICsgc2xpZGVyLnNldHRpbmdzLnN0b3BUZXh0ICsgJzwvYT48L2Rpdj4nKTtcclxuXHRcdFx0Ly8gYWRkIHRoZSBjb250cm9scyB0byB0aGUgRE9NXHJcblx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtYXV0b1wiIC8+Jyk7XHJcblx0XHRcdC8vIGJpbmQgY2xpY2sgYWN0aW9ucyB0byB0aGUgY29udHJvbHNcclxuXHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5vbignY2xpY2snLCAnLmJ4LXN0YXJ0JywgY2xpY2tTdGFydEJpbmQpO1xyXG5cdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLm9uKCdjbGljaycsICcuYngtc3RvcCcsIGNsaWNrU3RvcEJpbmQpO1xyXG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lLCBpbnNlcnQgb25seSB0aGUgXCJzdGFydFwiIGNvbnRyb2xcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc0NvbWJpbmUpe1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCk7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGluc2VydCBib3RoIGNvbnRyb2xzXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCkuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdG9wKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIHNlbGVjdG9yIHdhcyBzdXBwbGllZCwgcG9wdWxhdGUgaXQgd2l0aCB0aGUgY29udHJvbHNcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKXtcclxuXHRcdFx0XHQkKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHNTZWxlY3RvcikuaHRtbChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcclxuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBzZWxlY3RvciB3YXMgbm90IHN1cHBsaWVkLCBhZGQgaXQgYWZ0ZXIgdGhlIHdyYXBwZXJcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtYXV0bycpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIGF1dG8gY29udHJvbHNcclxuXHRcdFx0dXBkYXRlQXV0b0NvbnRyb2xzKHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgPyAnc3RvcCcgOiAnc3RhcnQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFwcGVuZHMgaW1hZ2UgY2FwdGlvbnMgdG8gdGhlIERPTVxyXG5cdFx0ICovXHJcblx0XHR2YXIgYXBwZW5kQ2FwdGlvbnMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBjeWNsZSB0aHJvdWdoIGVhY2ggY2hpbGRcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG5cdFx0XHRcdC8vIGdldCB0aGUgaW1hZ2UgdGl0bGUgYXR0cmlidXRlXHJcblx0XHRcdFx0dmFyIHRpdGxlID0gJCh0aGlzKS5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCd0aXRsZScpO1xyXG5cdFx0XHRcdC8vIGFwcGVuZCB0aGUgY2FwdGlvblxyXG5cdFx0XHRcdGlmICh0aXRsZSAhPSB1bmRlZmluZWQgJiYgKCcnICsgdGl0bGUpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYngtY2FwdGlvblwiPjxzcGFuPicgKyB0aXRsZSArICc8L3NwYW4+PC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgbmV4dCBiaW5kaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgY2xpY2tOZXh0QmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGVsLmdvVG9OZXh0U2xpZGUoKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgcHJldiBiaW5kaW5nXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIGUgKGV2ZW50KVxyXG5cdFx0ICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG5cdFx0ICovXHJcblx0XHR2YXIgY2xpY2tQcmV2QmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ2xpY2sgc3RhcnQgYmluZGluZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIGNsaWNrU3RhcnRCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdGVsLnN0YXJ0QXV0bygpO1xyXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDbGljayBzdG9wIGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja1N0b3BCaW5kID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENsaWNrIHBhZ2VyIGJpbmRpbmdcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBjbGlja1BhZ2VyQmluZCA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHQvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8pIGVsLnN0b3BBdXRvKCk7XHJcblx0XHRcdHZhciBwYWdlckxpbmsgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcblx0XHRcdGlmKHBhZ2VyTGluay5hdHRyKCdkYXRhLXNsaWRlLWluZGV4JykgIT09IHVuZGVmaW5lZCl7XHJcblx0XHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChwYWdlckxpbmsuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpKTtcclxuXHRcdFx0XHQvLyBpZiBjbGlja2VkIHBhZ2VyIGxpbmsgaXMgbm90IGFjdGl2ZSwgY29udGludWUgd2l0aCB0aGUgZ29Ub1NsaWRlIGNhbGxcclxuXHRcdFx0XHRpZihwYWdlckluZGV4ICE9IHNsaWRlci5hY3RpdmUuaW5kZXgpIGVsLmdvVG9TbGlkZShwYWdlckluZGV4KTtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIHBhZ2VyIGxpbmtzIHdpdGggYW4gYWN0aXZlIGNsYXNzXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHNsaWRlSW5kZXggKGludClcclxuXHRcdCAqICAtIGluZGV4IG9mIHNsaWRlIHRvIG1ha2UgYWN0aXZlXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVQYWdlckFjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlSW5kZXgpe1xyXG5cdFx0XHQvLyBpZiBcInNob3J0XCIgcGFnZXIgdHlwZVxyXG5cdFx0XHR2YXIgbGVuID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDsgLy8gbmIgb2YgY2hpbGRyZW5cclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLnBhZ2VyVHlwZSA9PSAnc2hvcnQnKXtcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSkge1xyXG5cdFx0XHRcdFx0bGVuID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGgvc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHNsaWRlci5wYWdlckVsLmh0bWwoIChzbGlkZUluZGV4ICsgMSkgKyBzbGlkZXIuc2V0dGluZ3MucGFnZXJTaG9ydFNlcGFyYXRvciArIGxlbik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdC8vIHJlbW92ZSBhbGwgcGFnZXIgYWN0aXZlIGNsYXNzZXNcclxuXHRcdFx0c2xpZGVyLnBhZ2VyRWwuZmluZCgnYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0Ly8gYXBwbHkgdGhlIGFjdGl2ZSBjbGFzcyBmb3IgYWxsIHBhZ2Vyc1xyXG5cdFx0XHRzbGlkZXIucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGksIGVsKSB7ICQoZWwpLmZpbmQoJ2EnKS5lcShzbGlkZUluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7IH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUGVyZm9ybXMgbmVlZGVkIGFjdGlvbnMgYWZ0ZXIgYSBzbGlkZSB0cmFuc2l0aW9uXHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmludGUgbG9vcCBpcyB0cnVlXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3Ape1xyXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9ICcnO1xyXG5cdFx0XHRcdC8vIGZpcnN0IHNsaWRlXHJcblx0XHRcdFx0aWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcclxuXHRcdFx0XHRcdC8vIHNldCB0aGUgbmV3IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGNhcm91c2VsLCBsYXN0IHNsaWRlXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBnZXRQYWdlclF0eSgpIC0gMSAmJiBzbGlkZXIuY2Fyb3VzZWwpe1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoKGdldFBhZ2VyUXR5KCkgLSAxKSAqIGdldE1vdmVCeSgpKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdC8vIGxhc3Qgc2xpZGVcclxuXHRcdFx0XHR9ZWxzZSBpZihzbGlkZXIuYWN0aXZlLmluZGV4ID09IHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKXtcclxuXHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZihwb3NpdGlvbil7XHJcblx0XHRcdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApOyB9XHJcblx0XHRcdFx0XHRlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PSAndmVydGljYWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7IH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gZGVjbGFyZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXHJcblx0XHRcdHNsaWRlci53b3JraW5nID0gZmFsc2U7XHJcblx0XHRcdC8vIG9uU2xpZGVBZnRlciBjYWxsYmFja1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUFmdGVyKHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIGF1dG8gY29udHJvbHMgc3RhdGUgKGVpdGhlciBhY3RpdmUsIG9yIGNvbWJpbmVkIHN3aXRjaClcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gc3RhdGUgKHN0cmluZykgXCJzdGFydFwiLCBcInN0b3BcIlxyXG5cdFx0ICogIC0gdGhlIG5ldyBzdGF0ZSBvZiB0aGUgYXV0byBzaG93XHJcblx0XHQgKi9cclxuXHRcdHZhciB1cGRhdGVBdXRvQ29udHJvbHMgPSBmdW5jdGlvbihzdGF0ZSl7XHJcblx0XHRcdC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgdHJ1ZSwgcmVwbGFjZSB0aGUgY3VycmVudCBjb250cm9sIHdpdGggdGhlIG5ldyBzdGF0ZVxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSl7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5odG1sKHNsaWRlci5jb250cm9sc1tzdGF0ZV0pO1xyXG5cdFx0XHQvLyBpZiBhdXRvQ29udHJvbHNDb21iaW5lIGlzIGZhbHNlLCBhcHBseSB0aGUgXCJhY3RpdmVcIiBjbGFzcyB0byB0aGUgYXBwcm9wcmlhdGUgY29udHJvbFxyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5maW5kKCdhOm5vdCguYngtJyArIHN0YXRlICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZXMgdGhlIGRpcmVjdGlvbiBjb250cm9scyAoY2hlY2tzIGlmIGVpdGhlciBzaG91bGQgYmUgaGlkZGVuKVxyXG5cdFx0ICovXHJcblx0XHR2YXIgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZihnZXRQYWdlclF0eSgpID09IDEpe1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdHNsaWRlci5jb250cm9scy5uZXh0LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHR9ZWxzZSBpZighc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuc2V0dGluZ3MuaGlkZUNvbnRyb2xPbkVuZCl7XHJcblx0XHRcdFx0Ly8gaWYgZmlyc3Qgc2xpZGVcclxuXHRcdFx0XHRpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwKXtcclxuXHRcdFx0XHRcdHNsaWRlci5jb250cm9scy5wcmV2LmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0Ly8gaWYgbGFzdCBzbGlkZVxyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlci5hY3RpdmUuaW5kZXggPT0gZ2V0UGFnZXJRdHkoKSAtIDEpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMucHJldi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHQvLyBpZiBhbnkgc2xpZGUgaW4gdGhlIG1pZGRsZVxyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0c2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblx0XHRcdFx0XHRzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWx6ZXMgdGhlIGF1dG8gcHJvY2Vzc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdEF1dG8gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQvLyBpZiBhdXRvRGVsYXkgd2FzIHN1cHBsaWVkLCBsYXVuY2ggdGhlIGF1dG8gc2hvdyB1c2luZyBhIHNldFRpbWVvdXQoKSBjYWxsXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGVsYXkgPiAwKXtcclxuXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZWwuc3RhcnRBdXRvLCBzbGlkZXIuc2V0dGluZ3MuYXV0b0RlbGF5KTtcclxuXHRcdFx0Ly8gaWYgYXV0b0RlbGF5IHdhcyBub3Qgc3VwcGxpZWQsIHN0YXJ0IHRoZSBhdXRvIHNob3cgbm9ybWFsbHlcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0ZWwuc3RhcnRBdXRvKCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYXV0b0hvdmVyKXtcclxuXHRcdFx0XHQvLyBvbiBlbCBob3ZlclxyXG5cdFx0XHRcdGVsLmhvdmVyKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHQvLyBpZiB0aGUgYXV0byBzaG93IGlzIGN1cnJlbnRseSBwbGF5aW5nIChoYXMgYW4gYWN0aXZlIGludGVydmFsKVxyXG5cdFx0XHRcdFx0aWYoc2xpZGVyLmludGVydmFsKXtcclxuXHRcdFx0XHRcdFx0Ly8gc3RvcCB0aGUgYXV0byBzaG93IGFuZCBwYXNzIHRydWUgYWd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcclxuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8odHJ1ZSk7XHJcblx0XHRcdFx0XHRcdC8vIGNyZWF0ZSBhIG5ldyBhdXRvUGF1c2VkIHZhbHVlIHdoaWNoIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVsYXRpdmUgXCJtb3VzZW91dFwiIGV2ZW50XHJcblx0XHRcdFx0XHRcdHNsaWRlci5hdXRvUGF1c2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Ly8gaWYgdGhlIGF1dG9QYXVzZWQgdmFsdWUgd2FzIGNyZWF0ZWQgYmUgdGhlIHByaW9yIFwibW91c2VvdmVyXCIgZXZlbnRcclxuXHRcdFx0XHRcdGlmKHNsaWRlci5hdXRvUGF1c2VkKXtcclxuXHRcdFx0XHRcdFx0Ly8gc3RhcnQgdGhlIGF1dG8gc2hvdyBhbmQgcGFzcyB0cnVlIGFndW1lbnQgd2hpY2ggd2lsbCBwcmV2ZW50IGNvbnRyb2wgdXBkYXRlXHJcblx0XHRcdFx0XHRcdGVsLnN0YXJ0QXV0byh0cnVlKTtcclxuXHRcdFx0XHRcdFx0Ly8gcmVzZXQgdGhlIGF1dG9QYXVzZWQgdmFsdWVcclxuXHRcdFx0XHRcdFx0c2xpZGVyLmF1dG9QYXVzZWQgPSBudWxsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBJbml0aWFsemVzIHRoZSB0aWNrZXIgcHJvY2Vzc1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdFRpY2tlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBzdGFydFBvc2l0aW9uID0gMDtcclxuXHRcdFx0Ly8gaWYgYXV0b0RpcmVjdGlvbiBpcyBcIm5leHRcIiwgYXBwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXJcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT0gJ25leHQnKXtcclxuXHRcdFx0XHRlbC5hcHBlbmQoc2xpZGVyLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJykpO1xyXG5cdFx0XHQvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwicHJldlwiLCBwcmVwZW5kIGEgY2xvbmUgb2YgdGhlIGVudGlyZSBzbGlkZXIsIGFuZCBzZXQgdGhlIGxlZnQgcG9zaXRpb25cclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0ZWwucHJlcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XHJcblx0XHRcdFx0dmFyIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuXHRcdFx0XHRzdGFydFBvc2l0aW9uID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xyXG5cdFx0XHR9XHJcblx0XHRcdHNldFBvc2l0aW9uUHJvcGVydHkoc3RhcnRQb3NpdGlvbiwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdC8vIGRvIG5vdCBhbGxvdyBjb250cm9scyBpbiB0aWNrZXIgbW9kZVxyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcclxuXHRcdFx0c2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzID0gZmFsc2U7XHJcblx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgPSBmYWxzZTtcclxuXHRcdFx0Ly8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxyXG5cdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MudGlja2VySG92ZXIgJiYgIXNsaWRlci51c2luZ0NTUyl7XHJcblx0XHRcdFx0Ly8gb24gZWwgaG92ZXJcclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuaG92ZXIoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdGVsLnN0b3AoKTtcclxuXHRcdFx0XHR9LCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSB0b3RhbCB3aWR0aCBvZiBjaGlsZHJlbiAodXNlZCB0byBjYWxjdWxhdGUgdGhlIHNwZWVkIHJhdGlvKVxyXG5cdFx0XHRcdFx0dmFyIHRvdGFsRGltZW5zID0gMDtcclxuXHRcdFx0XHRcdHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuXHRcdFx0XHRcdCAgdG90YWxEaW1lbnMgKz0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpIDogJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbyAodXNlZCB0byBkZXRlcm1pbmUgdGhlIG5ldyBzcGVlZCB0byBmaW5pc2ggdGhlIHBhdXNlZCBhbmltYXRpb24pXHJcblx0XHRcdFx0XHR2YXIgcmF0aW8gPSBzbGlkZXIuc2V0dGluZ3Muc3BlZWQgLyB0b3RhbERpbWVucztcclxuXHRcdFx0XHRcdC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2VcclxuXHRcdFx0XHRcdHZhciBwcm9wZXJ0eSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICd0b3AnO1xyXG5cdFx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBuZXcgc3BlZWRcclxuXHRcdFx0XHRcdHZhciBuZXdTcGVlZCA9IHJhdGlvICogKHRvdGFsRGltZW5zIC0gKE1hdGguYWJzKHBhcnNlSW50KGVsLmNzcyhwcm9wZXJ0eSkpKSkpO1xyXG5cdFx0XHRcdFx0dGlja2VyTG9vcChuZXdTcGVlZCk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gc3RhcnQgdGhlIHRpY2tlciBsb29wXHJcblx0XHRcdHRpY2tlckxvb3AoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJ1bnMgYSBjb250aW51b3VzIGxvb3AsIG5ld3MgdGlja2VyLXN0eWxlXHJcblx0XHQgKi9cclxuXHRcdHZhciB0aWNrZXJMb29wID0gZnVuY3Rpb24ocmVzdW1lU3BlZWQpe1xyXG5cdFx0XHRzcGVlZCA9IHJlc3VtZVNwZWVkID8gcmVzdW1lU3BlZWQgOiBzbGlkZXIuc2V0dGluZ3Muc3BlZWQ7XHJcblx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xyXG5cdFx0XHR2YXIgcmVzZXQgPSB7bGVmdDogMCwgdG9wOiAwfTtcclxuXHRcdFx0Ly8gaWYgXCJuZXh0XCIgYW5pbWF0ZSBsZWZ0IHBvc2l0aW9uIHRvIGxhc3QgY2hpbGQsIHRoZW4gcmVzZXQgbGVmdCB0byAwXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0Jyl7XHJcblx0XHRcdFx0cG9zaXRpb24gPSBlbC5maW5kKCcuYngtY2xvbmUnKS5maXJzdCgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdC8vIGlmIFwicHJldlwiIGFuaW1hdGUgbGVmdCBwb3NpdGlvbiB0byAwLCB0aGVuIHJlc2V0IGxlZnQgdG8gZmlyc3Qgbm9uLWNsb25lIGNoaWxkXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHJlc2V0ID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYW5pbWF0ZVByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xyXG5cdFx0XHR2YXIgcmVzZXRWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyA/IC1yZXNldC5sZWZ0IDogLXJlc2V0LnRvcDtcclxuXHRcdFx0dmFyIHBhcmFtcyA9IHtyZXNldFZhbHVlOiByZXNldFZhbHVlfTtcclxuXHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eShhbmltYXRlUHJvcGVydHksICd0aWNrZXInLCBzcGVlZCwgcGFyYW1zKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEluaXRpYWxpemVzIHRvdWNoIGV2ZW50c1xyXG5cdFx0ICovXHJcblx0XHR2YXIgaW5pdFRvdWNoID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gaW5pdGlhbGl6ZSBvYmplY3QgdG8gY29udGFpbiBhbGwgdG91Y2ggdmFsdWVzXHJcblx0XHRcdHNsaWRlci50b3VjaCA9IHtcclxuXHRcdFx0XHRzdGFydDoge3g6IDAsIHk6IDB9LFxyXG5cdFx0XHRcdGVuZDoge3g6IDAsIHk6IDB9XHJcblx0XHRcdH1cclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoc3RhcnQnLCBvblRvdWNoU3RhcnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogRXZlbnQgaGFuZGxlciBmb3IgXCJ0b3VjaHN0YXJ0XCJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBvblRvdWNoU3RhcnQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcpe1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBvcmlnaW5hbCBwb3NpdGlvbiB3aGVuIHRvdWNoIHN0YXJ0c1xyXG5cdFx0XHRcdHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcyA9IGVsLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0dmFyIG9yaWcgPSBlLm9yaWdpbmFsRXZlbnQ7XHJcblx0XHRcdFx0Ly8gcmVjb3JkIHRoZSBzdGFydGluZyB0b3VjaCB4LCB5IGNvb3JkaW5hdGVzXHJcblx0XHRcdFx0c2xpZGVyLnRvdWNoLnN0YXJ0LnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xyXG5cdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC55ID0gb3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcclxuXHRcdFx0XHQvLyBiaW5kIGEgXCJ0b3VjaG1vdmVcIiBldmVudCB0byB0aGUgdmlld3BvcnRcclxuXHRcdFx0XHRzbGlkZXIudmlld3BvcnQuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG5cdFx0XHRcdC8vIGJpbmQgYSBcInRvdWNoZW5kXCIgZXZlbnQgdG8gdGhlIHZpZXdwb3J0XHJcblx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2htb3ZlXCJcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZSAoZXZlbnQpXHJcblx0XHQgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcblx0XHQgKi9cclxuXHRcdHZhciBvblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcclxuXHRcdFx0Ly8gaWYgc2Nyb2xsaW5nIG9uIHkgYXhpcywgZG8gbm90IHByZXZlbnQgZGVmYXVsdFxyXG5cdFx0XHR2YXIgeE1vdmVtZW50ID0gTWF0aC5hYnMob3JpZy5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHNsaWRlci50b3VjaC5zdGFydC54KTtcclxuXHRcdFx0dmFyIHlNb3ZlbWVudCA9IE1hdGguYWJzKG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueSk7XHJcblx0XHRcdC8vIHggYXhpcyBzd2lwZVxyXG5cdFx0XHRpZigoeE1vdmVtZW50ICogMykgPiB5TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVYKXtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdC8vIHkgYXhpcyBzd2lwZVxyXG5cdFx0XHR9ZWxzZSBpZigoeU1vdmVtZW50ICogMykgPiB4TW92ZW1lbnQgJiYgc2xpZGVyLnNldHRpbmdzLnByZXZlbnREZWZhdWx0U3dpcGVZKXtcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgIT0gJ2ZhZGUnICYmIHNsaWRlci5zZXR0aW5ncy5vbmVUb09uZVRvdWNoKXtcclxuXHRcdFx0XHR2YXIgdmFsdWUgPSAwO1xyXG5cdFx0XHRcdC8vIGlmIGhvcml6b250YWwsIGRyYWcgYWxvbmcgeCBheGlzXHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdHZhciBjaGFuZ2UgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0ICsgY2hhbmdlO1xyXG5cdFx0XHRcdC8vIGlmIHZlcnRpY2FsLCBkcmFnIGFsb25nIHkgYXhpc1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0dmFyIGNoYW5nZSA9IG9yaWcuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueTtcclxuXHRcdFx0XHRcdHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLnRvcCArIGNoYW5nZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0c2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hlbmRcIlxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBlIChldmVudClcclxuXHRcdCAqICAtIERPTSBldmVudCBvYmplY3RcclxuXHRcdCAqL1xyXG5cdFx0dmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKXtcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LnVuYmluZCgndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG5cdFx0XHR2YXIgb3JpZyA9IGUub3JpZ2luYWxFdmVudDtcclxuXHRcdFx0dmFyIHZhbHVlID0gMDtcclxuXHRcdFx0Ly8gcmVjb3JkIGVuZCB4LCB5IHBvc2l0aW9uc1xyXG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnggPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xyXG5cdFx0XHRzbGlkZXIudG91Y2guZW5kLnkgPSBvcmlnLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xyXG5cdFx0XHQvLyBpZiBmYWRlIG1vZGUsIGNoZWNrIGlmIGFic29sdXRlIHggZGlzdGFuY2UgY2xlYXJzIHRoZSB0aHJlc2hvbGRcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2ZhZGUnKXtcclxuXHRcdFx0XHR2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyhzbGlkZXIudG91Y2guc3RhcnQueCAtIHNsaWRlci50b3VjaC5lbmQueCk7XHJcblx0XHRcdFx0aWYoZGlzdGFuY2UgPj0gc2xpZGVyLnNldHRpbmdzLnN3aXBlVGhyZXNob2xkKXtcclxuXHRcdFx0XHRcdHNsaWRlci50b3VjaC5zdGFydC54ID4gc2xpZGVyLnRvdWNoLmVuZC54ID8gZWwuZ29Ub05leHRTbGlkZSgpIDogZWwuZ29Ub1ByZXZTbGlkZSgpO1xyXG5cdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdC8vIG5vdCBmYWRlIG1vZGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gMDtcclxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgZGlzdGFuY2UgYW5kIGVsJ3MgYW5pbWF0ZSBwcm9wZXJ0eVxyXG5cdFx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdob3Jpem9udGFsJyl7XHJcblx0XHRcdFx0XHRkaXN0YW5jZSA9IHNsaWRlci50b3VjaC5lbmQueCAtIHNsaWRlci50b3VjaC5zdGFydC54O1xyXG5cdFx0XHRcdFx0dmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MubGVmdDtcclxuXHRcdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHRcdGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC55IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lnk7XHJcblx0XHRcdFx0XHR2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy50b3A7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdC8vIGlmIG5vdCBpbmZpbml0ZSBsb29wIGFuZCBmaXJzdCAvIGxhc3Qgc2xpZGUsIGRvIG5vdCBhdHRlbXB0IGEgc2xpZGUgdHJhbnNpdGlvblxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmICgoc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSAwICYmIGRpc3RhbmNlID4gMCkgfHwgKHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXN0YW5jZSA8IDApKSl7XHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xyXG5cdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0Ly8gY2hlY2sgaWYgZGlzdGFuY2UgY2xlYXJzIHRocmVzaG9sZFxyXG5cdFx0XHRcdFx0aWYoTWF0aC5hYnMoZGlzdGFuY2UpID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCl7XHJcblx0XHRcdFx0XHRcdGRpc3RhbmNlIDwgMCA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0XHRcdFx0ZWwuc3RvcEF1dG8oKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHQvLyBlbC5hbmltYXRlKHByb3BlcnR5LCAyMDApO1xyXG5cdFx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogV2luZG93IHJlc2l6ZSBldmVudCBjYWxsYmFja1xyXG5cdFx0ICovXHJcblx0XHR2YXIgcmVzaXplV2luZG93ID0gZnVuY3Rpb24oZSl7XHJcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBpc24ndCBpbml0aWFsaXplZC5cclxuXHRcdFx0aWYoIXNsaWRlci5pbml0aWFsaXplZCkgcmV0dXJuO1xyXG5cdFx0XHQvLyBnZXQgdGhlIG5ldyB3aW5kb3cgZGltZW5zIChhZ2FpbiwgdGhhbmsgeW91IElFKVxyXG5cdFx0XHR2YXIgd2luZG93V2lkdGhOZXcgPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0dmFyIHdpbmRvd0hlaWdodE5ldyA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHRcdFx0Ly8gbWFrZSBzdXJlIHRoYXQgaXQgaXMgYSB0cnVlIHdpbmRvdyByZXNpemVcclxuXHRcdFx0Ly8gKndlIG11c3QgY2hlY2sgdGhpcyBiZWNhdXNlIG91ciBkaW5vc2F1ciBmcmllbmQgSUUgZmlyZXMgYSB3aW5kb3cgcmVzaXplIGV2ZW50IHdoZW4gY2VydGFpbiBET00gZWxlbWVudHNcclxuXHRcdFx0Ly8gYXJlIHJlc2l6ZWQuIENhbiB5b3UganVzdCBkaWUgYWxyZWFkeT8qXHJcblx0XHRcdGlmKHdpbmRvd1dpZHRoICE9IHdpbmRvd1dpZHRoTmV3IHx8IHdpbmRvd0hlaWdodCAhPSB3aW5kb3dIZWlnaHROZXcpe1xyXG5cdFx0XHRcdC8vIHNldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnNcclxuXHRcdFx0XHR3aW5kb3dXaWR0aCA9IHdpbmRvd1dpZHRoTmV3O1xyXG5cdFx0XHRcdHdpbmRvd0hlaWdodCA9IHdpbmRvd0hlaWdodE5ldztcclxuXHRcdFx0XHQvLyB1cGRhdGUgYWxsIGR5bmFtaWMgZWxlbWVudHNcclxuXHRcdFx0XHRlbC5yZWRyYXdTbGlkZXIoKTtcclxuXHRcdFx0XHQvLyBDYWxsIHVzZXIgcmVzaXplIGhhbmRsZXJcclxuXHRcdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChlbCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHQgKiA9IFBVQkxJQyBGVU5DVElPTlNcclxuXHRcdCAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblx0XHQgKi9cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFBlcmZvcm1zIHNsaWRlIHRyYW5zaXRpb24gdG8gdGhlIHNwZWNpZmllZCBzbGlkZVxyXG5cdFx0ICpcclxuXHRcdCAqIEBwYXJhbSBzbGlkZUluZGV4IChpbnQpXHJcblx0XHQgKiAgLSB0aGUgZGVzdGluYXRpb24gc2xpZGUncyBpbmRleCAoemVyby1iYXNlZClcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gZGlyZWN0aW9uIChzdHJpbmcpXHJcblx0XHQgKiAgLSBJTlRFUk5BTCBVU0UgT05MWSAtIHRoZSBkaXJlY3Rpb24gb2YgdHJhdmVsIChcInByZXZcIiAvIFwibmV4dFwiKVxyXG5cdFx0ICovXHJcblx0XHRlbC5nb1RvU2xpZGUgPSBmdW5jdGlvbihzbGlkZUluZGV4LCBkaXJlY3Rpb24pe1xyXG5cdFx0XHQvLyBpZiBwbHVnaW4gaXMgY3VycmVudGx5IGluIG1vdGlvbiwgaWdub3JlIHJlcXVlc3RcclxuXHRcdFx0aWYoc2xpZGVyLndvcmtpbmcgfHwgc2xpZGVyLmFjdGl2ZS5pbmRleCA9PSBzbGlkZUluZGV4KSByZXR1cm47XHJcblx0XHRcdC8vIGRlY2xhcmUgdGhhdCBwbHVnaW4gaXMgaW4gbW90aW9uXHJcblx0XHRcdHNsaWRlci53b3JraW5nID0gdHJ1ZTtcclxuXHRcdFx0Ly8gc3RvcmUgdGhlIG9sZCBpbmRleFxyXG5cdFx0XHRzbGlkZXIub2xkSW5kZXggPSBzbGlkZXIuYWN0aXZlLmluZGV4O1xyXG5cdFx0XHQvLyBpZiBzbGlkZUluZGV4IGlzIGxlc3MgdGhhbiB6ZXJvLCBzZXQgYWN0aXZlIGluZGV4IHRvIGxhc3QgY2hpbGQgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcclxuXHRcdFx0aWYoc2xpZGVJbmRleCA8IDApe1xyXG5cdFx0XHRcdHNsaWRlci5hY3RpdmUuaW5kZXggPSBnZXRQYWdlclF0eSgpIC0gMTtcclxuXHRcdFx0Ly8gaWYgc2xpZGVJbmRleCBpcyBncmVhdGVyIHRoYW4gY2hpbGRyZW4gbGVuZ3RoLCBzZXQgYWN0aXZlIGluZGV4IHRvIDAgKHRoaXMgaGFwcGVucyBkdXJpbmcgaW5maW5pdGUgbG9vcClcclxuXHRcdFx0fWVsc2UgaWYoc2xpZGVJbmRleCA+PSBnZXRQYWdlclF0eSgpKXtcclxuXHRcdFx0XHRzbGlkZXIuYWN0aXZlLmluZGV4ID0gMDtcclxuXHRcdFx0Ly8gc2V0IGFjdGl2ZSBpbmRleCB0byByZXF1ZXN0ZWQgc2xpZGVcclxuXHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0c2xpZGVyLmFjdGl2ZS5pbmRleCA9IHNsaWRlSW5kZXg7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gb25TbGlkZUJlZm9yZSwgb25TbGlkZU5leHQsIG9uU2xpZGVQcmV2IGNhbGxiYWNrc1xyXG5cdFx0XHRzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUJlZm9yZShzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdGlmKGRpcmVjdGlvbiA9PSAnbmV4dCcpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlTmV4dChzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1lbHNlIGlmKGRpcmVjdGlvbiA9PSAncHJldicpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5vblNsaWRlUHJldihzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8gY2hlY2sgaWYgbGFzdCBzbGlkZVxyXG5cdFx0XHRzbGlkZXIuYWN0aXZlLmxhc3QgPSBzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyB1cGRhdGUgdGhlIHBhZ2VyIHdpdGggYWN0aXZlIGNsYXNzXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdC8vIC8vIGNoZWNrIGZvciBkaXJlY3Rpb24gY29udHJvbCB1cGRhdGVcclxuXHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB1cGRhdGVEaXJlY3Rpb25Db250cm9scygpO1xyXG5cdFx0XHQvLyBpZiBzbGlkZXIgaXMgc2V0IHRvIG1vZGU6IFwiZmFkZVwiXHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5tb2RlID09ICdmYWRlJyl7XHJcblx0XHRcdFx0Ly8gaWYgYWRhcHRpdmVIZWlnaHQgaXMgdHJ1ZSBhbmQgbmV4dCBoZWlnaHQgaXMgZGlmZmVyZW50IGZyb20gY3VycmVudCBoZWlnaHQsIGFuaW1hdGUgdG8gdGhlIG5ldyBoZWlnaHRcclxuXHRcdFx0XHRpZihzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQgJiYgc2xpZGVyLnZpZXdwb3J0LmhlaWdodCgpICE9IGdldFZpZXdwb3J0SGVpZ2h0KCkpe1xyXG5cdFx0XHRcdFx0c2xpZGVyLnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDogZ2V0Vmlld3BvcnRIZWlnaHQoKX0sIHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodFNwZWVkKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gZmFkZSBvdXQgdGhlIHZpc2libGUgY2hpbGQgYW5kIHJlc2V0IGl0cyB6LWluZGV4IHZhbHVlXHJcblx0XHRcdFx0c2xpZGVyLmNoaWxkcmVuLmZpbHRlcignOnZpc2libGUnKS5mYWRlT3V0KHNsaWRlci5zZXR0aW5ncy5zcGVlZCkuY3NzKHt6SW5kZXg6IDB9KTtcclxuXHRcdFx0XHQvLyBmYWRlIGluIHRoZSBuZXdseSByZXF1ZXN0ZWQgc2xpZGVcclxuXHRcdFx0XHRzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCkuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgrMSkuZmFkZUluKHNsaWRlci5zZXR0aW5ncy5zcGVlZCwgZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdCQodGhpcykuY3NzKCd6SW5kZXgnLCBzbGlkZXIuc2V0dGluZ3Muc2xpZGVaSW5kZXgpO1xyXG5cdFx0XHRcdFx0dXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0Ly8gc2xpZGVyIG1vZGUgaXMgbm90IFwiZmFkZVwiXHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XHJcblx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ICYmIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoKSAhPSBnZXRWaWV3cG9ydEhlaWdodCgpKXtcclxuXHRcdFx0XHRcdHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBtb3ZlQnkgPSAwO1xyXG5cdFx0XHRcdHZhciBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9O1xyXG5cdFx0XHRcdC8vIGlmIGNhcm91c2VsIGFuZCBub3QgaW5maW5pdGUgbG9vcFxyXG5cdFx0XHRcdGlmKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5jYXJvdXNlbCAmJiBzbGlkZXIuYWN0aXZlLmxhc3Qpe1xyXG5cdFx0XHRcdFx0aWYoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnKXtcclxuXHRcdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNoaWxkIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xyXG5cdFx0XHRcdFx0XHRwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IHNsaWRlXHJcblx0XHRcdFx0XHRcdG1vdmVCeSA9IHNsaWRlci52aWV3cG9ydC53aWR0aCgpIC0gbGFzdENoaWxkLm91dGVyV2lkdGgoKTtcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHQvLyBnZXQgbGFzdCBzaG93aW5nIGluZGV4IHBvc2l0aW9uXHJcblx0XHRcdFx0XHRcdHZhciBsYXN0U2hvd2luZ0luZGV4ID0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcblx0XHRcdFx0XHRcdHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQvLyBob3Jpem9udGFsIGNhcm91c2VsLCBnb2luZyBwcmV2aW91cyB3aGlsZSBvbiBmaXJzdCBzbGlkZSAoaW5maW5pdGVMb29wIG1vZGUpXHJcblx0XHRcdFx0fWVsc2UgaWYoc2xpZGVyLmNhcm91c2VsICYmIHNsaWRlci5hY3RpdmUubGFzdCAmJiBkaXJlY3Rpb24gPT0gJ3ByZXYnKXtcclxuXHRcdFx0XHRcdC8vIGdldCB0aGUgbGFzdCBjaGlsZCBwb3NpdGlvblxyXG5cdFx0XHRcdFx0dmFyIGVxID0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPT0gMSA/IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSBnZXRNb3ZlQnkoKSA6ICgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpIC0gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcclxuXHRcdFx0XHRcdHZhciBsYXN0Q2hpbGQgPSBlbC5jaGlsZHJlbignLmJ4LWNsb25lJykuZXEoZXEpO1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcclxuXHRcdFx0XHQvLyBpZiBpbmZpbml0ZSBsb29wIGFuZCBcIk5leHRcIiBpcyBjbGlja2VkIG9uIHRoZSBsYXN0IHNsaWRlXHJcblx0XHRcdFx0fWVsc2UgaWYoZGlyZWN0aW9uID09ICduZXh0JyAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApe1xyXG5cdFx0XHRcdFx0Ly8gZ2V0IHRoZSBsYXN0IGNsb25lIHBvc2l0aW9uXHJcblx0XHRcdFx0XHRwb3NpdGlvbiA9IGVsLmZpbmQoJz4gLmJ4LWNsb25lJykuZXEoc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcykucG9zaXRpb24oKTtcclxuXHRcdFx0XHRcdHNsaWRlci5hY3RpdmUubGFzdCA9IGZhbHNlO1xyXG5cdFx0XHRcdC8vIG5vcm1hbCBub24temVybyByZXF1ZXN0c1xyXG5cdFx0XHRcdH1lbHNlIGlmKHNsaWRlSW5kZXggPj0gMCl7XHJcblx0XHRcdFx0XHR2YXIgcmVxdWVzdEVsID0gc2xpZGVJbmRleCAqIGdldE1vdmVCeSgpO1xyXG5cdFx0XHRcdFx0cG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEocmVxdWVzdEVsKS5wb3NpdGlvbigpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0LyogSWYgdGhlIHBvc2l0aW9uIGRvZXNuJ3QgZXhpc3RcclxuXHRcdFx0XHQgKiAoZS5nLiBpZiB5b3UgZGVzdHJveSB0aGUgc2xpZGVyIG9uIGEgbmV4dCBjbGljayksXHJcblx0XHRcdFx0ICogaXQgZG9lc24ndCB0aHJvdyBhbiBlcnJvci5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mKHBvc2l0aW9uKSkge1xyXG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT0gJ2hvcml6b250YWwnID8gLShwb3NpdGlvbi5sZWZ0IC0gbW92ZUJ5KSA6IC1wb3NpdGlvbi50b3A7XHJcblx0XHRcdFx0XHQvLyBwbHVnaW4gdmFsdWVzIHRvIGJlIGFuaW1hdGVkXHJcblx0XHRcdFx0XHRzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAnc2xpZGUnLCBzbGlkZXIuc2V0dGluZ3Muc3BlZWQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIG5leHQgc2xpZGUgaW4gdGhlIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ29Ub05leHRTbGlkZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXHJcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmxhc3QpIHJldHVybjtcclxuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSArIDE7XHJcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAnbmV4dCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVHJhbnNpdGlvbnMgdG8gdGhlIHByZXYgc2xpZGUgaW4gdGhlIHNob3dcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ29Ub1ByZXZTbGlkZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGlmIGluZmluaXRlTG9vcCBpcyBmYWxzZSBhbmQgbGFzdCBwYWdlIGlzIHNob3dpbmcsIGRpc3JlZ2FyZCBjYWxsXHJcblx0XHRcdGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuYWN0aXZlLmluZGV4ID09IDApIHJldHVybjtcclxuXHRcdFx0dmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSAtIDE7XHJcblx0XHRcdGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAncHJldicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogU3RhcnRzIHRoZSBhdXRvIHNob3dcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXHJcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcclxuXHRcdCAqL1xyXG5cdFx0ZWwuc3RhcnRBdXRvID0gZnVuY3Rpb24ocHJldmVudENvbnRyb2xVcGRhdGUpe1xyXG5cdFx0XHQvLyBpZiBhbiBpbnRlcnZhbCBhbHJlYWR5IGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYoc2xpZGVyLmludGVydmFsKSByZXR1cm47XHJcblx0XHRcdC8vIGNyZWF0ZSBhbiBpbnRlcnZhbFxyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdHNsaWRlci5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uID09ICduZXh0JyA/IGVsLmdvVG9OZXh0U2xpZGUoKSA6IGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuXHRcdFx0fSwgc2xpZGVyLnNldHRpbmdzLnBhdXNlKTtcclxuXHRcdFx0Ly8gaWYgYXV0byBjb250cm9scyBhcmUgZGlzcGxheWVkIGFuZCBwcmV2ZW50Q29udHJvbFVwZGF0ZSBpcyBub3QgdHJ1ZVxyXG5cdFx0XHRpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyAmJiBwcmV2ZW50Q29udHJvbFVwZGF0ZSAhPSB0cnVlKSB1cGRhdGVBdXRvQ29udHJvbHMoJ3N0b3AnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0b3BzIHRoZSBhdXRvIHNob3dcclxuXHRcdCAqXHJcblx0XHQgKiBAcGFyYW0gcHJldmVudENvbnRyb2xVcGRhdGUgKGJvb2xlYW4pXHJcblx0XHQgKiAgLSBpZiB0cnVlLCBhdXRvIGNvbnRyb2xzIHN0YXRlIHdpbGwgbm90IGJlIHVwZGF0ZWRcclxuXHRcdCAqL1xyXG5cdFx0ZWwuc3RvcEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSl7XHJcblx0XHRcdC8vIGlmIG5vIGludGVydmFsIGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcclxuXHRcdFx0aWYoIXNsaWRlci5pbnRlcnZhbCkgcmV0dXJuO1xyXG5cdFx0XHQvLyBjbGVhciB0aGUgaW50ZXJ2YWxcclxuXHRcdFx0Y2xlYXJJbnRlcnZhbChzbGlkZXIuaW50ZXJ2YWwpO1xyXG5cdFx0XHRzbGlkZXIuaW50ZXJ2YWwgPSBudWxsO1xyXG5cdFx0XHQvLyBpZiBhdXRvIGNvbnRyb2xzIGFyZSBkaXNwbGF5ZWQgYW5kIHByZXZlbnRDb250cm9sVXBkYXRlIGlzIG5vdCB0cnVlXHJcblx0XHRcdGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzICYmIHByZXZlbnRDb250cm9sVXBkYXRlICE9IHRydWUpIHVwZGF0ZUF1dG9Db250cm9scygnc3RhcnQnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgY3VycmVudCBzbGlkZSBpbmRleCAoemVyby1iYXNlZClcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZ2V0Q3VycmVudFNsaWRlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuIHNsaWRlci5hY3RpdmUuaW5kZXg7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgZWxlbWVudFxyXG5cdFx0ICovXHJcblx0XHRlbC5nZXRDdXJyZW50U2xpZGVFbGVtZW50ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFJldHVybnMgbnVtYmVyIG9mIHNsaWRlcyBpbiBzaG93XHJcblx0XHQgKi9cclxuXHRcdGVsLmdldFNsaWRlQ291bnQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFVwZGF0ZSBhbGwgZHluYW1pYyBzbGlkZXIgZWxlbWVudHNcclxuXHRcdCAqL1xyXG5cdFx0ZWwucmVkcmF3U2xpZGVyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0Ly8gcmVzaXplIGFsbCBjaGlsZHJlbiBpbiByYXRpbyB0byBuZXcgc2NyZWVuIHNpemVcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmFkZChlbC5maW5kKCcuYngtY2xvbmUnKSkud2lkdGgoZ2V0U2xpZGVXaWR0aCgpKTtcclxuXHRcdFx0Ly8gYWRqdXN0IHRoZSBoZWlnaHRcclxuXHRcdFx0c2xpZGVyLnZpZXdwb3J0LmNzcygnaGVpZ2h0JywgZ2V0Vmlld3BvcnRIZWlnaHQoKSk7XHJcblx0XHRcdC8vIHVwZGF0ZSB0aGUgc2xpZGUgcG9zaXRpb25cclxuXHRcdFx0aWYoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHNldFNsaWRlUG9zaXRpb24oKTtcclxuXHRcdFx0Ly8gaWYgYWN0aXZlLmxhc3Qgd2FzIHRydWUgYmVmb3JlIHRoZSBzY3JlZW4gcmVzaXplLCB3ZSB3YW50XHJcblx0XHRcdC8vIHRvIGtlZXAgaXQgbGFzdCBubyBtYXR0ZXIgd2hhdCBzY3JlZW4gc2l6ZSB3ZSBlbmQgb25cclxuXHRcdFx0aWYgKHNsaWRlci5hY3RpdmUubGFzdCkgc2xpZGVyLmFjdGl2ZS5pbmRleCA9IGdldFBhZ2VyUXR5KCkgLSAxO1xyXG5cdFx0XHQvLyBpZiB0aGUgYWN0aXZlIGluZGV4IChwYWdlKSBubyBsb25nZXIgZXhpc3RzIGR1ZSB0byB0aGUgcmVzaXplLCBzaW1wbHkgc2V0IHRoZSBpbmRleCBhcyBsYXN0XHJcblx0XHRcdGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID49IGdldFBhZ2VyUXR5KCkpIHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7XHJcblx0XHRcdC8vIGlmIGEgcGFnZXIgaXMgYmVpbmcgZGlzcGxheWVkIGFuZCBhIGN1c3RvbSBwYWdlciBpcyBub3QgYmVpbmcgdXNlZCwgdXBkYXRlIGl0XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5wYWdlciAmJiAhc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKXtcclxuXHRcdFx0XHRwb3B1bGF0ZVBhZ2VyKCk7XHJcblx0XHRcdFx0dXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIERlc3Ryb3kgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgdGhlIHNsaWRlciAocmV2ZXJ0IGV2ZXJ5dGhpbmcgYmFjayB0byBvcmlnaW5hbCBzdGF0ZSlcclxuXHRcdCAqL1xyXG5cdFx0ZWwuZGVzdHJveVNsaWRlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHNsaWRlciBoYXMgYWxyZWFkeSBiZWVuIGRlc3Ryb3llZFxyXG5cdFx0XHRpZighc2xpZGVyLmluaXRpYWxpemVkKSByZXR1cm47XHJcblx0XHRcdHNsaWRlci5pbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdFx0XHQkKCcuYngtY2xvbmUnLCB0aGlzKS5yZW1vdmUoKTtcclxuXHRcdFx0c2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpICE9IHVuZGVmaW5lZCA/ICQodGhpcykuYXR0cihcInN0eWxlXCIsICQodGhpcykuZGF0YShcIm9yaWdTdHlsZVwiKSkgOiAkKHRoaXMpLnJlbW92ZUF0dHIoJ3N0eWxlJyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkKHRoaXMpLmRhdGEoXCJvcmlnU3R5bGVcIikgIT0gdW5kZWZpbmVkID8gdGhpcy5hdHRyKFwic3R5bGVcIiwgJCh0aGlzKS5kYXRhKFwib3JpZ1N0eWxlXCIpKSA6ICQodGhpcykucmVtb3ZlQXR0cignc3R5bGUnKTtcclxuXHRcdFx0JCh0aGlzKS51bndyYXAoKS51bndyYXAoKTtcclxuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLmVsKSBzbGlkZXIuY29udHJvbHMuZWwucmVtb3ZlKCk7XHJcblx0XHRcdGlmKHNsaWRlci5jb250cm9scy5uZXh0KSBzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmUoKTtcclxuXHRcdFx0aWYoc2xpZGVyLmNvbnRyb2xzLnByZXYpIHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZSgpO1xyXG5cdFx0XHRpZihzbGlkZXIucGFnZXJFbCAmJiBzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHNsaWRlci5wYWdlckVsLnJlbW92ZSgpO1xyXG5cdFx0XHQkKCcuYngtY2FwdGlvbicsIHRoaXMpLnJlbW92ZSgpO1xyXG5cdFx0XHRpZihzbGlkZXIuY29udHJvbHMuYXV0b0VsKSBzbGlkZXIuY29udHJvbHMuYXV0b0VsLnJlbW92ZSgpO1xyXG5cdFx0XHRjbGVhckludGVydmFsKHNsaWRlci5pbnRlcnZhbCk7XHJcblx0XHRcdGlmKHNsaWRlci5zZXR0aW5ncy5yZXNwb25zaXZlKSAkKHdpbmRvdykudW5iaW5kKCdyZXNpemUnLCByZXNpemVXaW5kb3cpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogUmVsb2FkIHRoZSBzbGlkZXIgKHJldmVydCBhbGwgRE9NIGNoYW5nZXMsIGFuZCByZS1pbml0aWFsaXplKVxyXG5cdFx0ICovXHJcblx0XHRlbC5yZWxvYWRTbGlkZXIgPSBmdW5jdGlvbihzZXR0aW5ncyl7XHJcblx0XHRcdGlmIChzZXR0aW5ncyAhPSB1bmRlZmluZWQpIG9wdGlvbnMgPSBzZXR0aW5ncztcclxuXHRcdFx0ZWwuZGVzdHJveVNsaWRlcigpO1xyXG5cdFx0XHRpbml0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW5pdCgpO1xyXG5cclxuXHRcdC8vIHJldHVybnMgdGhlIGN1cnJlbnQgalF1ZXJ5IG9iamVjdFxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxufSkoalF1ZXJ5KTtcclxuIiwiLyoqXHJcbiAqIGpRdWVyeSBNYXNvbnJ5IHYyLjEuMDhcclxuICogQSBkeW5hbWljIGxheW91dCBwbHVnaW4gZm9yIGpRdWVyeVxyXG4gKiBUaGUgZmxpcC1zaWRlIG9mIENTUyBGbG9hdHNcclxuICogaHR0cDovL21hc29ucnkuZGVzYW5kcm8uY29tXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cclxuICogQ29weXJpZ2h0IDIwMTIgRGF2aWQgRGVTYW5kcm9cclxuICovXHJcbihmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9dC5ldmVudCxpO3Iuc3BlY2lhbC5zbWFydHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXt0KHRoaXMpLmJpbmQoXCJyZXNpemVcIixyLnNwZWNpYWwuc21hcnRyZXNpemUuaGFuZGxlcil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dCh0aGlzKS51bmJpbmQoXCJyZXNpemVcIixyLnNwZWNpYWwuc21hcnRyZXNpemUuaGFuZGxlcil9LGhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLHM9YXJndW1lbnRzO2UudHlwZT1cInNtYXJ0cmVzaXplXCIsaSYmY2xlYXJUaW1lb3V0KGkpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3IuZGlzcGF0Y2guYXBwbHkobixzKX0sdD09PVwiZXhlY0FzYXBcIj8wOjEwMCl9fSx0LmZuLnNtYXJ0cmVzaXplPWZ1bmN0aW9uKGUpe3JldHVybiBlP3RoaXMuYmluZChcInNtYXJ0cmVzaXplXCIsZSk6dGhpcy50cmlnZ2VyKFwic21hcnRyZXNpemVcIixbXCJleGVjQXNhcFwiXSl9LHQuTWFzb249ZnVuY3Rpb24oZSxuKXt0aGlzLmVsZW1lbnQ9dChuKSx0aGlzLl9jcmVhdGUoZSksdGhpcy5faW5pdCgpfSx0Lk1hc29uLnNldHRpbmdzPXtpc1Jlc2l6YWJsZTohMCxpc0FuaW1hdGVkOiExLGFuaW1hdGlvbk9wdGlvbnM6e3F1ZXVlOiExLGR1cmF0aW9uOjUwMH0sZ3V0dGVyV2lkdGg6MCxpc1JUTDohMSxpc0ZpdFdpZHRoOiExLGNvbnRhaW5lclN0eWxlOntwb3NpdGlvbjpcInJlbGF0aXZlXCJ9fSx0Lk1hc29uLnByb3RvdHlwZT17X2ZpbHRlckZpbmRCcmlja3M6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvcjtyZXR1cm4gdD9lLmZpbHRlcih0KS5hZGQoZS5maW5kKHQpKTplfSxfZ2V0QnJpY2tzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2ZpbHRlckZpbmRCcmlja3MoZSkuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCJ9KS5hZGRDbGFzcyhcIm1hc29ucnktYnJpY2tcIik7cmV0dXJuIHR9LF9jcmVhdGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zPXQuZXh0ZW5kKCEwLHt9LHQuTWFzb24uc2V0dGluZ3MsbiksdGhpcy5zdHlsZVF1ZXVlPVtdO3ZhciByPXRoaXMuZWxlbWVudFswXS5zdHlsZTt0aGlzLm9yaWdpbmFsU3R5bGU9e2hlaWdodDpyLmhlaWdodHx8XCJcIn07dmFyIGk9dGhpcy5vcHRpb25zLmNvbnRhaW5lclN0eWxlO2Zvcih2YXIgcyBpbiBpKXRoaXMub3JpZ2luYWxTdHlsZVtzXT1yW3NdfHxcIlwiO3RoaXMuZWxlbWVudC5jc3MoaSksdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uPXRoaXMub3B0aW9ucy5pc1JUTD9cInJpZ2h0XCI6XCJsZWZ0XCI7dmFyIG89dGhpcy5lbGVtZW50LmNzcyhcInBhZGRpbmctXCIrdGhpcy5ob3Jpem9udGFsRGlyZWN0aW9uKSx1PXRoaXMuZWxlbWVudC5jc3MoXCJwYWRkaW5nLXRvcFwiKTt0aGlzLm9mZnNldD17eDpvP3BhcnNlSW50KG8sMTApOjAseTp1P3BhcnNlSW50KHUsMTApOjB9LHRoaXMuaXNGbHVpZD10aGlzLm9wdGlvbnMuY29sdW1uV2lkdGgmJnR5cGVvZiB0aGlzLm9wdGlvbnMuY29sdW1uV2lkdGg9PVwiZnVuY3Rpb25cIjt2YXIgYT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmVsZW1lbnQuYWRkQ2xhc3MoXCJtYXNvbnJ5XCIpfSwwKSx0aGlzLm9wdGlvbnMuaXNSZXNpemFibGUmJnQoZSkuYmluZChcInNtYXJ0cmVzaXplLm1hc29ucnlcIixmdW5jdGlvbigpe2EucmVzaXplKCl9KSx0aGlzLnJlbG9hZEl0ZW1zKCl9LF9pbml0OmZ1bmN0aW9uKGUpe3RoaXMuX2dldENvbHVtbnMoKSx0aGlzLl9yZUxheW91dChlKX0sb3B0aW9uOmZ1bmN0aW9uKGUsbil7dC5pc1BsYWluT2JqZWN0KGUpJiYodGhpcy5vcHRpb25zPXQuZXh0ZW5kKCEwLHRoaXMub3B0aW9ucyxlKSl9LGxheW91dDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0aGlzLl9wbGFjZUJyaWNrKGVbbl0pO3ZhciBpPXt9O2kuaGVpZ2h0PU1hdGgubWF4LmFwcGx5KE1hdGgsdGhpcy5jb2xZcyk7aWYodGhpcy5vcHRpb25zLmlzRml0V2lkdGgpe3ZhciBzPTA7bj10aGlzLmNvbHM7d2hpbGUoLS1uKXtpZih0aGlzLmNvbFlzW25dIT09MClicmVhaztzKyt9aS53aWR0aD0odGhpcy5jb2xzLXMpKnRoaXMuY29sdW1uV2lkdGgtdGhpcy5vcHRpb25zLmd1dHRlcldpZHRofXRoaXMuc3R5bGVRdWV1ZS5wdXNoKHskZWw6dGhpcy5lbGVtZW50LHN0eWxlOml9KTt2YXIgbz10aGlzLmlzTGFpZE91dD90aGlzLm9wdGlvbnMuaXNBbmltYXRlZD9cImFuaW1hdGVcIjpcImNzc1wiOlwiY3NzXCIsdT10aGlzLm9wdGlvbnMuYW5pbWF0aW9uT3B0aW9ucyxhO2ZvcihuPTAscj10aGlzLnN0eWxlUXVldWUubGVuZ3RoO248cjtuKyspYT10aGlzLnN0eWxlUXVldWVbbl0sYS4kZWxbb10oYS5zdHlsZSx1KTt0aGlzLnN0eWxlUXVldWU9W10sdCYmdC5jYWxsKGUpLHRoaXMuaXNMYWlkT3V0PSEwfSxfZ2V0Q29sdW1uczpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0aW9ucy5pc0ZpdFdpZHRoP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQsdD1lLndpZHRoKCk7dGhpcy5jb2x1bW5XaWR0aD10aGlzLmlzRmx1aWQ/dGhpcy5vcHRpb25zLmNvbHVtbldpZHRoKHQpOnRoaXMub3B0aW9ucy5jb2x1bW5XaWR0aHx8dGhpcy4kYnJpY2tzLm91dGVyV2lkdGgoITApfHx0LHRoaXMuY29sdW1uV2lkdGgrPXRoaXMub3B0aW9ucy5ndXR0ZXJXaWR0aCx0aGlzLmNvbHM9TWF0aC5mbG9vcigodCt0aGlzLm9wdGlvbnMuZ3V0dGVyV2lkdGgpL3RoaXMuY29sdW1uV2lkdGgpLHRoaXMuY29scz1NYXRoLm1heCh0aGlzLmNvbHMsMSl9LF9wbGFjZUJyaWNrOmZ1bmN0aW9uKGUpe3ZhciBuPXQoZSkscixpLHMsbyx1O3I9TWF0aC5jZWlsKG4ub3V0ZXJXaWR0aCghMCkvdGhpcy5jb2x1bW5XaWR0aCkscj1NYXRoLm1pbihyLHRoaXMuY29scyk7aWYocj09PTEpcz10aGlzLmNvbFlzO2Vsc2V7aT10aGlzLmNvbHMrMS1yLHM9W107Zm9yKHU9MDt1PGk7dSsrKW89dGhpcy5jb2xZcy5zbGljZSh1LHUrciksc1t1XT1NYXRoLm1heC5hcHBseShNYXRoLG8pfXZhciBhPU1hdGgubWluLmFwcGx5KE1hdGgscyksZj0wO2Zvcih2YXIgbD0wLGM9cy5sZW5ndGg7bDxjO2wrKylpZihzW2xdPT09YSl7Zj1sO2JyZWFrfXZhciBoPXt0b3A6YSt0aGlzLm9mZnNldC55fTtoW3RoaXMuaG9yaXpvbnRhbERpcmVjdGlvbl09dGhpcy5jb2x1bW5XaWR0aCpmK3RoaXMub2Zmc2V0LngsdGhpcy5zdHlsZVF1ZXVlLnB1c2goeyRlbDpuLHN0eWxlOmh9KTt2YXIgcD1hK24ub3V0ZXJIZWlnaHQoITApLGQ9dGhpcy5jb2xzKzEtYztmb3IobD0wO2w8ZDtsKyspdGhpcy5jb2xZc1tmK2xdPXB9LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29sczt0aGlzLl9nZXRDb2x1bW5zKCksKHRoaXMuaXNGbHVpZHx8dGhpcy5jb2xzIT09ZSkmJnRoaXMuX3JlTGF5b3V0KCl9LF9yZUxheW91dDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmNvbHM7dGhpcy5jb2xZcz1bXTt3aGlsZSh0LS0pdGhpcy5jb2xZcy5wdXNoKDApO3RoaXMubGF5b3V0KHRoaXMuJGJyaWNrcyxlKX0scmVsb2FkSXRlbXM6ZnVuY3Rpb24oKXt0aGlzLiRicmlja3M9dGhpcy5fZ2V0QnJpY2tzKHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKX0scmVsb2FkOmZ1bmN0aW9uKGUpe3RoaXMucmVsb2FkSXRlbXMoKSx0aGlzLl9pbml0KGUpfSxhcHBlbmRlZDpmdW5jdGlvbihlLHQsbil7aWYodCl7dGhpcy5fZmlsdGVyRmluZEJyaWNrcyhlKS5jc3Moe3RvcDp0aGlzLmVsZW1lbnQuaGVpZ2h0KCl9KTt2YXIgcj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9hcHBlbmRlZChlLG4pfSwxKX1lbHNlIHRoaXMuX2FwcGVuZGVkKGUsbil9LF9hcHBlbmRlZDpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX2dldEJyaWNrcyhlKTt0aGlzLiRicmlja3M9dGhpcy4kYnJpY2tzLmFkZChuKSx0aGlzLmxheW91dChuLHQpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dGhpcy4kYnJpY2tzPXRoaXMuJGJyaWNrcy5ub3QoZSksZS5yZW1vdmUoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGJyaWNrcy5yZW1vdmVDbGFzcyhcIm1hc29ucnktYnJpY2tcIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc3R5bGUucG9zaXRpb249XCJcIix0aGlzLnN0eWxlLnRvcD1cIlwiLHRoaXMuc3R5bGUubGVmdD1cIlwifSk7dmFyIG49dGhpcy5lbGVtZW50WzBdLnN0eWxlO2Zvcih2YXIgciBpbiB0aGlzLm9yaWdpbmFsU3R5bGUpbltyXT10aGlzLm9yaWdpbmFsU3R5bGVbcl07dGhpcy5lbGVtZW50LnVuYmluZChcIi5tYXNvbnJ5XCIpLnJlbW92ZUNsYXNzKFwibWFzb25yeVwiKS5yZW1vdmVEYXRhKFwibWFzb25yeVwiKSx0KGUpLnVuYmluZChcIi5tYXNvbnJ5XCIpfX0sdC5mbi5pbWFnZXNMb2FkZWQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdSgpe2UuY2FsbChuLHIpfWZ1bmN0aW9uIGEoZSl7dmFyIG49ZS50YXJnZXQ7bi5zcmMhPT1zJiZ0LmluQXJyYXkobixvKT09PS0xJiYoby5wdXNoKG4pLC0taTw9MCYmKHNldFRpbWVvdXQodSksci51bmJpbmQoXCIuaW1hZ2VzTG9hZGVkXCIsYSkpKX12YXIgbj10aGlzLHI9bi5maW5kKFwiaW1nXCIpLmFkZChuLmZpbHRlcihcImltZ1wiKSksaT1yLmxlbmd0aCxzPVwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95d0FBQUFBQVFBQkFBQUNBVXdBT3c9PVwiLG89W107cmV0dXJuIGl8fHUoKSxyLmJpbmQoXCJsb2FkLmltYWdlc0xvYWRlZCBlcnJvci5pbWFnZXNMb2FkZWRcIixhKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zcmM7dGhpcy5zcmM9cyx0aGlzLnNyYz1lfSksbn07dmFyIHM9ZnVuY3Rpb24odCl7ZS5jb25zb2xlJiZlLmNvbnNvbGUuZXJyb3IodCl9O3QuZm4ubWFzb25yeT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09XCJzdHJpbmdcIil7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPXQuZGF0YSh0aGlzLFwibWFzb25yeVwiKTtpZighcil7cyhcImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gbWFzb25yeSBwcmlvciB0byBpbml0aWFsaXphdGlvbjsgYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICdcIitlK1wiJ1wiKTtyZXR1cm59aWYoIXQuaXNGdW5jdGlvbihyW2VdKXx8ZS5jaGFyQXQoMCk9PT1cIl9cIil7cyhcIm5vIHN1Y2ggbWV0aG9kICdcIitlK1wiJyBmb3IgbWFzb25yeSBpbnN0YW5jZVwiKTtyZXR1cm59cltlXS5hcHBseShyLG4pfSl9ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj10LmRhdGEodGhpcyxcIm1hc29ucnlcIik7bj8obi5vcHRpb24oZXx8e30pLG4uX2luaXQoKSk6dC5kYXRhKHRoaXMsXCJtYXNvbnJ5XCIsbmV3IHQuTWFzb24oZSx0aGlzKSl9KTtyZXR1cm4gdGhpc319KSh3aW5kb3csalF1ZXJ5KTsiLCIkKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgJCgnLmJ4c2xpZGVyJykuYnhTbGlkZXIoe1xyXG4gICAgICAgICAgICBhdXRvOiBmYWxzZSxcclxuICAgICAgICAgICAgYXV0b0NvbnRyb2xzOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdyaWQoKSB7XHJcbiAgICAgICAgICAgIHZhciAkZ3JpZCA9ICQoJy5ncmlkJyk7XHJcbiAgICAgICAgICAgICRncmlkLmltYWdlc0xvYWRlZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkZ3JpZC5tYXNvbnJ5KHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5XaWR0aDogZnVuY3Rpb24oIGNvbnRhaW5lcldpZHRoICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lcldpZHRoIC8gMyAtIDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZ3V0dGVyV2lkdGg6IDEwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcuZ3JpZCcpLm1hc29ucnkoe1xyXG4gICAgICAgICAgLy8gb3B0aW9uc1xyXG4gICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLmdyaWQtaXRlbScsXHJcbiAgICAgICAgICBjb2x1bW5XaWR0aDogMjAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICAgICAgICAkKCcuaWRlYXMnKS5maW5kKCdkaXYnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyICRzZWFyY2hLZXkgPSAkKCcuc2VhcmNoX19maWVsZCcpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vcGl4YWJheS5jb20vYXBpLz9rZXk9MjY1MDU4NC1lOGZlYWI5YjExZWQ2NDRkY2VjNzI4YWM5JnE9JyArICRzZWFyY2hLZXkgKyAnJmltYWdlX3R5cGU9cGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29ucCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgJGh0bWwgPSAkKCcjY29udGFpbmVyJykuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkY29udGVudCA9IHRtcGwoJGh0bWwsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5pZGVhcycpLmFwcGVuZCgkY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZCgpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlYXJjaCgpO1xyXG5cclxuICAgICAgICAkKCcuc2VhcmNoX19idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHNlYXJjaCgpO1xyXG4gICAgICAgICAgICAkKCcuc2VhcmNoX19maWVsZCcpLnZhbCgnJyk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuKTtcclxuIiwiLy8gU2ltcGxlIEphdmFTY3JpcHQgVGVtcGxhdGluZ1xyXG4vLyBKb2huIFJlc2lnIC0gaHR0cDovL2Vqb2huLm9yZy8gLSBNSVQgTGljZW5zZWRcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjYWNoZSA9IHt9O1xyXG5cclxuICAgIHRoaXMudG1wbCA9IGZ1bmN0aW9uIHRtcGwoc3RyLCBkYXRhKSB7XHJcbiAgICAgICAgLy8gRmlndXJlIG91dCBpZiB3ZSdyZSBnZXR0aW5nIGEgdGVtcGxhdGUsIG9yIGlmIHdlIG5lZWQgdG9cclxuICAgICAgICAvLyBsb2FkIHRoZSB0ZW1wbGF0ZSAtIGFuZCBiZSBzdXJlIHRvIGNhY2hlIHRoZSByZXN1bHQuXHJcbiAgICAgICAgdmFyIGZuID0gIS9cXFcvLnRlc3Qoc3RyKSA/XHJcbiAgICAgICAgICAgIGNhY2hlW3N0cl0gPSBjYWNoZVtzdHJdIHx8XHJcbiAgICAgICAgICAgICAgICB0bXBsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0cikuaW5uZXJIVE1MKSA6XHJcblxyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIHJldXNhYmxlIGZ1bmN0aW9uIHRoYXQgd2lsbCBzZXJ2ZSBhcyBhIHRlbXBsYXRlXHJcbiAgICAgICAgICAgIC8vIGdlbmVyYXRvciAoYW5kIHdoaWNoIHdpbGwgYmUgY2FjaGVkKS5cclxuICAgICAgICAgICAgbmV3IEZ1bmN0aW9uKFwib2JqXCIsXHJcbiAgICAgICAgICAgICAgICBcInZhciBwPVtdLHByaW50PWZ1bmN0aW9uKCl7cC5wdXNoLmFwcGx5KHAsYXJndW1lbnRzKTt9O1wiICtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW50cm9kdWNlIHRoZSBkYXRhIGFzIGxvY2FsIHZhcmlhYmxlcyB1c2luZyB3aXRoKCl7fVxyXG4gICAgICAgICAgICAgICAgXCJ3aXRoKG9iail7cC5wdXNoKCdcIiArXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIHRlbXBsYXRlIGludG8gcHVyZSBKYXZhU2NyaXB0XHJcbiAgICAgICAgICAgICAgICBzdHJcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcclxcdFxcbl0vZywgXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KFwiPCVcIikuam9pbihcIlxcdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oKF58JT4pW15cXHRdKiknL2csIFwiJDFcXHJcIilcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx0PSguKj8pJT4vZywgXCInLCQxLCdcIilcclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoXCJcXHRcIikuam9pbihcIicpO1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIiU+XCIpLmpvaW4oXCJwLnB1c2goJ1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIlxcclwiKS5qb2luKFwiXFxcXCdcIilcclxuICAgICAgICAgICAgICAgICsgXCInKTt9cmV0dXJuIHAuam9pbignJyk7XCIpO1xyXG5cclxuICAgICAgICAvLyBQcm92aWRlIHNvbWUgYmFzaWMgY3VycnlpbmcgdG8gdGhlIHVzZXJcclxuICAgICAgICByZXR1cm4gZGF0YSA/IGZuKGRhdGEpIDogZm47XHJcbiAgICB9O1xyXG59KSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
